
index 5dbd9e9bd..4061e9b88 100644
--- a/qdrant_lib_segment_src_segment_constructor_segment_constructor_base.rs_expectedoutput.txt (expected):tmp/tmp3usn4z49_expected.txt	
+++ b/qdrant_lib_segment_src_segment_constructor_segment_constructor_base.rs_extracted.txt (actual):tmp/tmpg91dgho9_actual.txt	
@@ -581,6 +581,8 @@ fn create_segment(
         ))
     };
 
+    let payload_index_path = get_payload_index_path(segment_path);
+
     let mut vector_storages = HashMap::new();
 
     for (vector_name, vector_config) in &config.vector_data {
@@ -613,7 +615,6 @@ fn create_segment(
         vector_storages.insert(vector_name.to_owned(), vector_storage);
     }
 
-    let payload_index_path = get_payload_index_path(segment_path);
     let payload_index: Arc<AtomicRefCell<StructPayloadIndex>> = sp(StructPayloadIndex::open(
         payload_storage.clone(),
         id_tracker.clone(),
@@ -704,8 +705,8 @@ fn create_segment(
         vector_data.insert(
             vector_name.to_owned(),
             VectorData {
-                vector_storage,
                 vector_index,
+                vector_storage,
                 quantized_vectors: sp(None),
             },
         );
