
index 5d3f329f4..d4205fd2e 100644
--- a/ghostty_src_Command.zig_expectedoutput.txt (expected):tmp/tmpbri04m0e_expected.txt	
+++ b/ghostty_src_Command.zig_extracted.txt (actual):tmp/tmpon4nwx0f_actual.txt	
@@ -470,9 +470,9 @@ test "expandPath: slash" {
 
 // Copied from Zig. This is a publicly exported function but there is no
 // way to get it from the std package.
-fn createNullDelimitedEnvMap(arena: mem.Allocator, env_map: *const EnvMap) ![:null]?[*:0]u8 {
+fn createNullDelimitedEnvMap(arena: mem.Allocator, env_map: *const EnvMap) ![:null]?[*:0]const u8 {
     const envp_count = env_map.count();
-    const envp_buf = try arena.allocSentinel(?[*:0]u8, envp_count, null);
+    const envp_buf = try arena.allocSentinel(?[*:0]const u8, envp_count, null);
 
     var it = env_map.iterator();
     var i: usize = 0;
@@ -593,6 +593,19 @@ test "createNullDelimitedEnvMap" {
     }
 }
 
+fn createTestStdout(dir: std.fs.Dir) !File {
+    const file = try dir.createFile("stdout.txt", .{ .read = true });
+    if (builtin.os.tag == .windows) {
+        try windows.SetHandleInformation(
+            file.handle,
+            windows.HANDLE_FLAG_INHERIT,
+            windows.HANDLE_FLAG_INHERIT,
+        );
+    }
+
+    return file;
+}
+
 test "Command: pre exec" {
     if (builtin.os.tag == .windows) return error.SkipZigTest;
     var cmd: Command = .{
@@ -614,19 +627,6 @@ test "Command: pre exec" {
     try testing.expect(exit.Exited == 42);
 }
 
-fn createTestStdout(dir: std.fs.Dir) !File {
-    const file = try dir.createFile("stdout.txt", .{ .read = true });
-    if (builtin.os.tag == .windows) {
-        try windows.SetHandleInformation(
-            file.handle,
-            windows.HANDLE_FLAG_INHERIT,
-            windows.HANDLE_FLAG_INHERIT,
-        );
-    }
-
-    return file;
-}
-
 test "Command: redirect stdout to file" {
     var td = try TempDir.init();
     defer td.deinit();
