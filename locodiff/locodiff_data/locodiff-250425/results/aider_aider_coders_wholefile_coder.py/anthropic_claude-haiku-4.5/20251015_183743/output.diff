
index 4f02f26b4..2b509bd65 100644
--- a/aider_aider_coders_wholefile_coder.py_expectedoutput.txt (expected):tmp/tmpbagip28h_expected.txt	
+++ b/aider_aider_coders_wholefile_coder.py_extracted.txt (actual):tmp/tmp9_umd7al_actual.txt	
@@ -98,7 +98,7 @@ class WholeFileCoder(Coder):
         if mode == "diff":
             if fname is not None:
                 # ending an existing block
-                full_path = (Path(self.root) / fname).absolute()
+                full_path = self.abs_root_path(fname)
                 output += self.do_live_diff(full_path, new_lines, False)
             return "\n".join(output)
 
