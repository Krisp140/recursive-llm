
index c6d1df953..26c1b278e 100644
--- a/qdrant_src_main.rs_expectedoutput.txt (expected):tmp/tmppkxoa7hu_expected.txt	
+++ b/qdrant_src_main.rs_extracted.txt (actual):tmp/tmph2u4bl24_actual.txt	
@@ -1,15 +1,15 @@
+#![allow(deprecated)]
+
 #[cfg(feature = "web")]
 mod actix;
 mod common;
 mod consensus;
 mod greeting;
-mod issues_setup;
 mod migrations;
 mod settings;
 mod snapshots;
 mod startup;
 mod tonic;
-mod tracing;
 
 use std::io::Error;
 use std::sync::Arc;
@@ -376,8 +376,6 @@ fn main() -> anyhow::Result<()> {
         // logs from it to `log` crate
         let slog_logger = slog::Logger::root(slog_stdlog::StdLog.fuse(), slog::o!());
 
-        // Runs raft consensus in a separate thread.
-        // Create a pipe `message_sender` to communicate with the consensus
         let health_checker = Arc::new(common::health::HealthChecker::spawn(
             toc_arc.clone(),
             consensus_state.clone(),
@@ -608,4 +606,37 @@ fn main() -> anyhow::Result<()> {
     drop(toc_arc);
     drop(settings);
     Ok(())
+}
+
+mod tracing {
+    use std::str::FromStr;
+
+    use tracing_subscriber::filter::EnvFilter;
+    use tracing_subscriber::fmt::format::FmtSpan;
+    use tracing_subscriber::prelude::*;
+    use tracing_subscriber::Registry;
+
+    pub fn setup(mut logger_config: common::logger_config::LoggerConfig) -> anyhow::Result<()> {
+        let env_filter = EnvFilter::from_str(&logger_config.get_rust_log())?;
+
+        let fmt_layer = tracing_subscriber::fmt::layer()
+            .with_span_events(logger_config.format.span_events())
+            .with_target(true)
+            .with_level(true)
+            .with_ansi(logger_config.format.color);
+
+        let registry = Registry::default().with(env_filter).with(fmt_layer);
+
+        tracing::subscriber::set_default(registry);
+
+        Ok(())
+    }
+}
+
+mod issues_setup {
+    use storage::dispatcher::Dispatcher;
+
+    pub fn setup_subscribers(settings: &crate::settings::Settings) {
+        // Stub for now - will be implemented later
+    }
 }
\ No newline at end of file
