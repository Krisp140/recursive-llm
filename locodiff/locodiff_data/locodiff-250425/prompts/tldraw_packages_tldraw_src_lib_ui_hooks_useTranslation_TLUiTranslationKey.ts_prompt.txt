# Instructions

You are being benchmarked. You will see the output of a git log command, and from that must infer the current state of a file. Think carefully, as you must output the exact state of the file to earn full marks.

**Important:** Your goal is to reproduce the file's content *exactly* as it exists at the final commit, even if the code appears broken, buggy, or contains obvious errors. Do **not** try to "fix" the code. Attempting to correct issues will result in a poor score, as this benchmark evaluates your ability to reproduce the precise state of the file based on its history.

# Required Response Format

Wrap the content of the file in triple backticks (```). Any text outside the final closing backticks will be ignored. End your response after outputting the closing backticks.

# Example Response

```python
#!/usr/bin/env python
print('Hello, world!')
```

# File History

> git log -p --cc --topo-order --reverse -- packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts

commit b7d9c8684cb6cf7bd710af5420135ea3516cc3bf
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Jul 17 22:22:34 2023 +0100

    tldraw zero - package shuffle (#1710)
    
    This PR moves code between our packages so that:
    - @tldraw/editor is a “core” library with the engine and canvas but no
    shapes, tools, or other things
    - @tldraw/tldraw contains everything particular to the experience we’ve
    built for tldraw
    
    At first look, this might seem like a step away from customization and
    configuration, however I believe it greatly increases the configuration
    potential of the @tldraw/editor while also providing a more accurate
    reflection of what configuration options actually exist for
    @tldraw/tldraw.
    
    ## Library changes
    
    @tldraw/editor re-exports its dependencies and @tldraw/tldraw re-exports
    @tldraw/editor.
    
    - users of @tldraw/editor WITHOUT @tldraw/tldraw should almost always
    only import things from @tldraw/editor.
    - users of @tldraw/tldraw should almost always only import things from
    @tldraw/tldraw.
    
    - @tldraw/polyfills is merged into @tldraw/editor
    - @tldraw/indices is merged into @tldraw/editor
    - @tldraw/primitives is merged mostly into @tldraw/editor, partially
    into @tldraw/tldraw
    - @tldraw/file-format is merged into @tldraw/tldraw
    - @tldraw/ui is merged into @tldraw/tldraw
    
    Many (many) utils and other code is moved from the editor to tldraw. For
    example, embeds now are entirely an feature of @tldraw/tldraw. The only
    big chunk of code left in core is related to arrow handling.
    
    ## API Changes
    
    The editor can now be used without tldraw's assets. We load them in
    @tldraw/tldraw instead, so feel free to use whatever fonts or images or
    whatever that you like with the editor.
    
    All tools and shapes (except for the `Group` shape) are moved to
    @tldraw/tldraw. This includes the `select` tool.
    
    You should use the editor with at least one tool, however, so you now
    also need to send in an `initialState` prop to the Editor /
    <TldrawEditor> component indicating which state the editor should begin
    in.
    
    The `components` prop now also accepts `SelectionForeground`.
    
    The complex selection component that we use for tldraw is moved to
    @tldraw/tldraw. The default component is quite basic but can easily be
    replaced via the `components` prop. We pass down our tldraw-flavored
    SelectionFg via `components`.
    
    Likewise with the `Scribble` component: the `DefaultScribble` no longer
    uses our freehand tech and is a simple path instead. We pass down the
    tldraw-flavored scribble via `components`.
    
    The `ExternalContentManager` (`Editor.externalContentManager`) is
    removed and replaced with a mapping of types to handlers.
    
    - Register new content handlers with
    `Editor.registerExternalContentHandler`.
    - Register new asset creation handlers (for files and URLs) with
    `Editor.registerExternalAssetHandler`
    
    ### Change Type
    
    - [x] `major` — Breaking change
    
    ### Test Plan
    
    - [x] Unit Tests
    - [x] End to end tests
    
    ### Release Notes
    
    - [@tldraw/editor] lots, wip
    - [@tldraw/ui] gone, merged to tldraw/tldraw
    - [@tldraw/polyfills] gone, merged to tldraw/editor
    - [@tldraw/primitives] gone, merged to tldraw/editor / tldraw/tldraw
    - [@tldraw/indices] gone, merged to tldraw/editor
    - [@tldraw/file-format] gone, merged to tldraw/tldraw
    
    ---------
    
    Co-authored-by: alex <alex@dytry.ch>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
new file mode 100644
index 000000000..4bbd9c92e
--- /dev/null
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -0,0 +1,351 @@
+// This file is automatically generated by scripts/refresh-assets.ts.
+// Do not edit manually.
+
+/** @public */
+export type TLUiTranslationKey =
+	| 'action.convert-to-bookmark'
+	| 'action.convert-to-embed'
+	| 'action.open-embed-link'
+	| 'action.align-bottom'
+	| 'action.align-center-horizontal'
+	| 'action.align-center-vertical'
+	| 'action.align-center-horizontal.short'
+	| 'action.align-center-vertical.short'
+	| 'action.align-left'
+	| 'action.align-right'
+	| 'action.align-top'
+	| 'action.back-to-content'
+	| 'action.bring-forward'
+	| 'action.bring-to-front'
+	| 'action.copy-as-json.short'
+	| 'action.copy-as-json'
+	| 'action.copy-as-png.short'
+	| 'action.copy-as-png'
+	| 'action.copy-as-svg.short'
+	| 'action.copy-as-svg'
+	| 'action.copy'
+	| 'action.cut'
+	| 'action.delete'
+	| 'action.distribute-horizontal'
+	| 'action.distribute-vertical'
+	| 'action.distribute-horizontal.short'
+	| 'action.distribute-vertical.short'
+	| 'action.duplicate'
+	| 'action.edit-link'
+	| 'action.exit-pen-mode'
+	| 'action.export-as-json.short'
+	| 'action.export-as-json'
+	| 'action.export-as-png.short'
+	| 'action.export-as-png'
+	| 'action.export-as-svg.short'
+	| 'action.export-as-svg'
+	| 'action.flip-horizontal'
+	| 'action.flip-vertical'
+	| 'action.flip-horizontal.short'
+	| 'action.flip-vertical.short'
+	| 'action.fork-project'
+	| 'action.group'
+	| 'action.insert-embed'
+	| 'action.insert-media'
+	| 'action.leave-shared-project'
+	| 'action.new-project'
+	| 'action.new-shared-project'
+	| 'action.open-cursor-chat'
+	| 'action.open-file'
+	| 'action.pack'
+	| 'action.paste'
+	| 'action.print'
+	| 'action.redo'
+	| 'action.rotate-ccw'
+	| 'action.rotate-cw'
+	| 'action.save-copy'
+	| 'action.select-all'
+	| 'action.select-none'
+	| 'action.send-backward'
+	| 'action.send-to-back'
+	| 'action.share-project'
+	| 'action.stack-horizontal'
+	| 'action.stack-vertical'
+	| 'action.stack-horizontal.short'
+	| 'action.stack-vertical.short'
+	| 'action.stop-following'
+	| 'action.stretch-horizontal'
+	| 'action.stretch-vertical'
+	| 'action.stretch-horizontal.short'
+	| 'action.stretch-vertical.short'
+	| 'action.toggle-auto-size'
+	| 'action.toggle-dark-mode.menu'
+	| 'action.toggle-dark-mode'
+	| 'action.toggle-reduce-motion.menu'
+	| 'action.toggle-reduce-motion'
+	| 'action.toggle-debug-mode.menu'
+	| 'action.toggle-debug-mode'
+	| 'action.toggle-focus-mode.menu'
+	| 'action.toggle-focus-mode'
+	| 'action.toggle-grid.menu'
+	| 'action.toggle-grid'
+	| 'action.toggle-lock'
+	| 'action.toggle-snap-mode.menu'
+	| 'action.toggle-snap-mode'
+	| 'action.toggle-tool-lock.menu'
+	| 'action.toggle-tool-lock'
+	| 'action.toggle-transparent.context-menu'
+	| 'action.toggle-transparent.menu'
+	| 'action.toggle-transparent'
+	| 'action.undo'
+	| 'action.ungroup'
+	| 'action.zoom-in'
+	| 'action.zoom-out'
+	| 'action.zoom-to-100'
+	| 'action.zoom-to-fit'
+	| 'action.zoom-to-selection'
+	| 'color-style.black'
+	| 'color-style.blue'
+	| 'color-style.green'
+	| 'color-style.grey'
+	| 'color-style.light-blue'
+	| 'color-style.light-green'
+	| 'color-style.light-red'
+	| 'color-style.light-violet'
+	| 'color-style.orange'
+	| 'color-style.red'
+	| 'color-style.violet'
+	| 'color-style.yellow'
+	| 'fill-style.none'
+	| 'fill-style.semi'
+	| 'fill-style.solid'
+	| 'fill-style.pattern'
+	| 'dash-style.dashed'
+	| 'dash-style.dotted'
+	| 'dash-style.draw'
+	| 'dash-style.solid'
+	| 'size-style.s'
+	| 'size-style.m'
+	| 'size-style.l'
+	| 'size-style.xl'
+	| 'opacity-style.0.1'
+	| 'opacity-style.0.25'
+	| 'opacity-style.0.5'
+	| 'opacity-style.0.75'
+	| 'opacity-style.1'
+	| 'font-style.draw'
+	| 'font-style.sans'
+	| 'font-style.serif'
+	| 'font-style.mono'
+	| 'align-style.start'
+	| 'align-style.middle'
+	| 'align-style.end'
+	| 'align-style.justify'
+	| 'geo-style.arrow-down'
+	| 'geo-style.arrow-left'
+	| 'geo-style.arrow-right'
+	| 'geo-style.arrow-up'
+	| 'geo-style.diamond'
+	| 'geo-style.ellipse'
+	| 'geo-style.hexagon'
+	| 'geo-style.octagon'
+	| 'geo-style.oval'
+	| 'geo-style.cloud'
+	| 'geo-style.pentagon'
+	| 'geo-style.rectangle'
+	| 'geo-style.rhombus-2'
+	| 'geo-style.rhombus'
+	| 'geo-style.star'
+	| 'geo-style.trapezoid'
+	| 'geo-style.triangle'
+	| 'geo-style.x-box'
+	| 'geo-style.check-box'
+	| 'arrowheadStart-style.none'
+	| 'arrowheadStart-style.arrow'
+	| 'arrowheadStart-style.bar'
+	| 'arrowheadStart-style.diamond'
+	| 'arrowheadStart-style.dot'
+	| 'arrowheadStart-style.inverted'
+	| 'arrowheadStart-style.pipe'
+	| 'arrowheadStart-style.square'
+	| 'arrowheadStart-style.triangle'
+	| 'arrowheadEnd-style.none'
+	| 'arrowheadEnd-style.arrow'
+	| 'arrowheadEnd-style.bar'
+	| 'arrowheadEnd-style.diamond'
+	| 'arrowheadEnd-style.dot'
+	| 'arrowheadEnd-style.inverted'
+	| 'arrowheadEnd-style.pipe'
+	| 'arrowheadEnd-style.square'
+	| 'arrowheadEnd-style.triangle'
+	| 'spline-style.line'
+	| 'spline-style.cubic'
+	| 'tool.select'
+	| 'tool.hand'
+	| 'tool.draw'
+	| 'tool.eraser'
+	| 'tool.arrow-down'
+	| 'tool.arrow-left'
+	| 'tool.arrow-right'
+	| 'tool.arrow-up'
+	| 'tool.arrow'
+	| 'tool.cloud'
+	| 'tool.diamond'
+	| 'tool.ellipse'
+	| 'tool.hexagon'
+	| 'tool.highlight'
+	| 'tool.line'
+	| 'tool.octagon'
+	| 'tool.oval'
+	| 'tool.pentagon'
+	| 'tool.rectangle'
+	| 'tool.rhombus'
+	| 'tool.star'
+	| 'tool.trapezoid'
+	| 'tool.triangle'
+	| 'tool.x-box'
+	| 'tool.check-box'
+	| 'tool.asset'
+	| 'tool.frame'
+	| 'tool.note'
+	| 'tool.laser'
+	| 'tool.embed'
+	| 'tool.text'
+	| 'menu.title'
+	| 'menu.copy-as'
+	| 'menu.edit'
+	| 'menu.export-as'
+	| 'menu.file'
+	| 'menu.language'
+	| 'menu.preferences'
+	| 'menu.view'
+	| 'context-menu.arrange'
+	| 'context-menu.copy-as'
+	| 'context-menu.export-as'
+	| 'context-menu.move-to-page'
+	| 'context-menu.reorder'
+	| 'page-menu.title'
+	| 'page-menu.create-new-page'
+	| 'page-menu.max-page-count-reached'
+	| 'page-menu.new-page-initial-name'
+	| 'page-menu.edit-start'
+	| 'page-menu.edit-done'
+	| 'page-menu.go-to-page'
+	| 'page-menu.submenu.rename'
+	| 'page-menu.submenu.duplicate-page'
+	| 'page-menu.submenu.title'
+	| 'page-menu.submenu.move-down'
+	| 'page-menu.submenu.move-up'
+	| 'page-menu.submenu.delete'
+	| 'share-menu.title'
+	| 'share-menu.save-note'
+	| 'share-menu.fork-note'
+	| 'share-menu.share-project'
+	| 'share-menu.default-project-name'
+	| 'share-menu.copy-link'
+	| 'share-menu.readonly-link'
+	| 'share-menu.create-snapshot-link'
+	| 'share-menu.snapshot-link-note'
+	| 'share-menu.copy-readonly-link'
+	| 'share-menu.offline-note'
+	| 'share-menu.copy-link-note'
+	| 'share-menu.copy-readonly-link-note'
+	| 'share-menu.project-too-large'
+	| 'share-menu.upload-failed'
+	| 'people-menu.title'
+	| 'people-menu.change-name'
+	| 'people-menu.change-color'
+	| 'people-menu.follow'
+	| 'people-menu.following'
+	| 'people-menu.leading'
+	| 'people-menu.user'
+	| 'people-menu.invite'
+	| 'help-menu.title'
+	| 'help-menu.about'
+	| 'help-menu.discord'
+	| 'help-menu.github'
+	| 'help-menu.keyboard-shortcuts'
+	| 'help-menu.twitter'
+	| 'actions-menu.title'
+	| 'edit-link-dialog.title'
+	| 'edit-link-dialog.invalid-url'
+	| 'edit-link-dialog.detail'
+	| 'edit-link-dialog.url'
+	| 'edit-link-dialog.clear'
+	| 'edit-link-dialog.save'
+	| 'edit-link-dialog.cancel'
+	| 'embed-dialog.title'
+	| 'embed-dialog.back'
+	| 'embed-dialog.create'
+	| 'embed-dialog.cancel'
+	| 'embed-dialog.url'
+	| 'embed-dialog.instruction'
+	| 'embed-dialog.invalid-url'
+	| 'edit-pages-dialog.move-down'
+	| 'edit-pages-dialog.move-up'
+	| 'shortcuts-dialog.title'
+	| 'shortcuts-dialog.edit'
+	| 'shortcuts-dialog.file'
+	| 'shortcuts-dialog.preferences'
+	| 'shortcuts-dialog.tools'
+	| 'shortcuts-dialog.transform'
+	| 'shortcuts-dialog.view'
+	| 'shortcuts-dialog.collaboration'
+	| 'home-project-dialog.title'
+	| 'home-project-dialog.description'
+	| 'rename-project-dialog.title'
+	| 'rename-project-dialog.cancel'
+	| 'rename-project-dialog.rename'
+	| 'home-project-dialog.ok'
+	| 'style-panel.title'
+	| 'style-panel.align'
+	| 'style-panel.vertical-align'
+	| 'style-panel.position'
+	| 'style-panel.arrowheads'
+	| 'style-panel.arrowhead-start'
+	| 'style-panel.arrowhead-end'
+	| 'style-panel.color'
+	| 'style-panel.dash'
+	| 'style-panel.fill'
+	| 'style-panel.font'
+	| 'style-panel.geo'
+	| 'style-panel.mixed'
+	| 'style-panel.opacity'
+	| 'style-panel.size'
+	| 'style-panel.spline'
+	| 'tool-panel.drawing'
+	| 'tool-panel.shapes'
+	| 'tool-panel.more'
+	| 'debug-panel.more'
+	| 'navigation-zone.toggle-minimap'
+	| 'navigation-zone.zoom'
+	| 'focus-mode.toggle-focus-mode'
+	| 'toast.close'
+	| 'file-system.file-open-error.title'
+	| 'file-system.file-open-error.not-a-tldraw-file'
+	| 'file-system.file-open-error.file-format-version-too-new'
+	| 'file-system.file-open-error.generic-corrupted-file'
+	| 'file-system.confirm-open.title'
+	| 'file-system.confirm-open.description'
+	| 'file-system.confirm-open.cancel'
+	| 'file-system.confirm-open.open'
+	| 'file-system.confirm-open.dont-show-again'
+	| 'file-system.confirm-clear.title'
+	| 'file-system.confirm-clear.description'
+	| 'file-system.confirm-clear.cancel'
+	| 'file-system.confirm-clear.continue'
+	| 'file-system.confirm-clear.dont-show-again'
+	| 'file-system.shared-document-file-open-error.title'
+	| 'file-system.shared-document-file-open-error.description'
+	| 'sharing.confirm-leave.title'
+	| 'sharing.confirm-leave.description'
+	| 'sharing.confirm-leave.cancel'
+	| 'sharing.confirm-leave.leave'
+	| 'sharing.confirm-leave.dont-show-again'
+	| 'toast.error.export-fail.title'
+	| 'toast.error.export-fail.desc'
+	| 'toast.error.copy-fail.title'
+	| 'toast.error.copy-fail.desc'
+	| 'context.pages.new-page'
+	| 'vscode.file-open.desc'
+	| 'vscode.file-open.open'
+	| 'vscode.file-open.backup'
+	| 'vscode.file-open.backup-saved'
+	| 'vscode.file-open.backup-failed'
+	| 'vscode.file-open.dont-show-again'
+	| 'cursor-chat.type-to-chat'

commit af573bac511eb3a0187ae70e8fcc380dd17267f8
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Thu Aug 24 14:25:04 2023 +0200

    [feature] unlock all action (#1820)
    
    This PR adds an "Unlock all" action to the edit menu.
    
    - Selecting `unlock all` sets `isLocked` to false for all shapes on the
    current page
    - The option is disabled if the page is empty; but we don't check
    whether there are locked shapes on the page (juice < squeeze)
    
    Closes https://github.com/tldraw/tldraw/issues/1809
    
    ### Change Type
    
    - [x] `minor` — New feature
    
    ### Test Plan
    
    1. Create locked shapes
    2. Select menu > edit > unlock all
    
    ### Release Notes
    
    - Adds the unlock all feature.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 4bbd9c92e..29508507c 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -26,6 +26,7 @@ export type TLUiTranslationKey =
 	| 'action.copy'
 	| 'action.cut'
 	| 'action.delete'
+	| 'action.unlock-all'
 	| 'action.distribute-horizontal'
 	| 'action.distribute-vertical'
 	| 'action.distribute-horizontal.short'

commit aaf810b015ab502e388544c38faae523dfc908cb
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Tue Oct 17 09:32:41 2023 +0100

    Add offline indicator (also to top zone example) (#2083)
    
    This PR adds an offline indicator to the UI package. It's not used in
    the default app but we'll use it on tldraw.com, and it makes sense to
    include it here as it's generally useful.
    
    ### Change Type
    
    - [x] `minor` — New feature
    
    ### Test Plan
    
    1. See the zones example.
    
    ### Release Notes
    
    - [@tldraw/tldraw] add offline indicator to ui components

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 29508507c..9b68e8806 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -248,6 +248,8 @@ export type TLUiTranslationKey =
 	| 'share-menu.copy-readonly-link-note'
 	| 'share-menu.project-too-large'
 	| 'share-menu.upload-failed'
+	| 'status.offline'
+	| 'status.online'
 	| 'people-menu.title'
 	| 'people-menu.change-name'
 	| 'people-menu.change-color'

commit e2ddbb16f669a05eadd197600a86ab8a4ee37ea0
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Wed Nov 29 13:01:57 2023 +0100

    Removing frames and adding elements to frames (#2219)
    
    - Add simple frame removing - it just drops the frame and parent
    children to frames parent.
    - Select children after removing the frame.
    - Add children to the frame if we resize the frame so that it encloses
    them.
    
    Describe what your pull request does. If appropriate, add GIFs or images
    showing the before and after.
    
    ### Change Type
    
    - [ ] `patch` — Bug fix
    - [x] `minor` — New feature
    - [ ] `major` — Breaking change
    - [ ] `dependencies` — Changes to package dependencies[^1]
    - [ ] `documentation` — Changes to the documentation only[^2]
    - [ ] `tests` — Changes to any test code only[^2]
    - [ ] `internal` — Any other changes that don't affect the published
    package[^2]
    - [ ] I don't know
    
    [^1]: publishes a `patch` release, for devDependencies use `internal`
    [^2]: will not publish a new version
    
    ### Test Plan
    
    1. Add a step-by-step description of how to test your PR here.
    2.
    
    - [ ] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Add a brief release note for your PR here.
    
    ---------
    
    Co-authored-by: Steve Ruiz <steveruizok@gmail.com>
    Co-authored-by: Taha <98838967+Taha-Hassan-Git@users.noreply.github.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 9b68e8806..7331c8408 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -57,6 +57,7 @@ export type TLUiTranslationKey =
 	| 'action.paste'
 	| 'action.print'
 	| 'action.redo'
+	| 'action.remove-frame'
 	| 'action.rotate-ccw'
 	| 'action.rotate-cw'
 	| 'action.save-copy'

commit 300466f52a3eae2f49186c0ac126337d8ec7c9fd
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Thu Dec 7 13:57:56 2023 +0100

    Add fit to content for frames. (#2275)
    
    Adds Fit to content option for frames. This resizes the frames so that
    the whole content fits. It also adds 50px padding on all sides so that
    the content does not touch the frame's borders.
    
    
    
    https://github.com/tldraw/tldraw/assets/2523721/b2f86e31-7dfb-495f-ac31-f1e0125e0af1
    
    
    
    https://github.com/tldraw/tldraw/assets/2523721/e0a73d25-ac9f-4a35-a1fd-4aed7a5b151c
    
    
    
    Fixes #1407
    
    ### Change Type
    
    - [ ] `patch` — Bug fix
    - [x] `minor` — New feature
    - [ ] `major` — Breaking change
    - [ ] `dependencies` — Changes to package dependencies[^1]
    - [ ] `documentation` — Changes to the documentation only[^2]
    - [ ] `tests` — Changes to any test code only[^2]
    - [ ] `internal` — Any other changes that don't affect the published
    package[^2]
    - [ ] I don't know
    
    [^1]: publishes a `patch` release, for devDependencies use `internal`
    [^2]: will not publish a new version
    
    ### Test Plan
    
    1. Add some shapes.
    2. Add a frame that encloses those shapes.
    3. Right click on the frame and choose `Fit to content`
    4. The frame should resize to fit all the children with some padding on
    all sides of the frame.
    
    - [x] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Add Fit to content option to the context menu for frames. This resizes
    the frames to correctly fit all their content.
    
    ---------
    
    Co-authored-by: David Sheldrick <d.j.sheldrick@gmail.com>
    Co-authored-by: Steve Ruiz <steveruizok@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 7331c8408..50c1be511 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -40,6 +40,7 @@ export type TLUiTranslationKey =
 	| 'action.export-as-png'
 	| 'action.export-as-svg.short'
 	| 'action.export-as-svg'
+	| 'action.fit-frame-to-content'
 	| 'action.flip-horizontal'
 	| 'action.flip-vertical'
 	| 'action.flip-horizontal.short'

commit 4e50c9c16251f9d4ca7034f2519759e093a99dbf
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Sat Dec 16 00:37:03 2023 +0100

    Start scrolling if we are dragging close to the window edges. (#2299)
    
    Start scrolling when we get close to the edges of the window. This works
    for brush selecting, translating, and resizing.
    
    
    https://github.com/tldraw/tldraw/assets/2523721/4a5effc8-5445-411b-b317-36097233d36c
    
    
    ### Change Type
    
    - [ ] `patch` — Bug fix
    - [x] `minor` — New feature
    - [ ] `major` — Breaking change
    - [ ] `dependencies` — Changes to package dependencies[^1]
    - [ ] `documentation` — Changes to the documentation only[^2]
    - [ ] `tests` — Changes to any test code only[^2]
    - [ ] `internal` — Any other changes that don't affect the published
    package[^2]
    - [ ] I don't know
    
    [^1]: publishes a `patch` release, for devDependencies use `internal`
    [^2]: will not publish a new version
    
    ### Test Plan
    
    1. Select a shape.
    2. Move it towards the edge of the window. The camera position should
    change.
    3. Also try resizing, brush selecting.
    
    - [x] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Adds the logic to change the camera position when you get close to the
    edges of the window. This allows you to drag, resize, brush select past
    the edges of the current viewport.
    
    ---------
    
    Co-authored-by: Steve Ruiz <steveruizok@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 50c1be511..2ff1bdbeb 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -81,6 +81,8 @@ export type TLUiTranslationKey =
 	| 'action.toggle-dark-mode'
 	| 'action.toggle-reduce-motion.menu'
 	| 'action.toggle-reduce-motion'
+	| 'action.toggle-edge-scrolling.menu'
+	| 'action.toggle-edge-scrolling'
 	| 'action.toggle-debug-mode.menu'
 	| 'action.toggle-debug-mode'
 	| 'action.toggle-focus-mode.menu'

commit d6e9912d92ee7e49e181231ad03f79ce8e347a7a
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Jan 25 11:26:12 2024 +0000

    style: fix missing titles on vertical align menu (#2623)
    
    ### Change Type
    
    - [x] `patch` — Bug fix
    
    ### Release Notes
    
    - Adds missing titles to vertical align menu.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 2ff1bdbeb..75f77b276 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -141,6 +141,9 @@ export type TLUiTranslationKey =
 	| 'align-style.middle'
 	| 'align-style.end'
 	| 'align-style.justify'
+	| 'verticalAlign-style.start'
+	| 'verticalAlign-style.middle'
+	| 'verticalAlign-style.end'
 	| 'geo-style.arrow-down'
 	| 'geo-style.arrow-left'
 	| 'geo-style.arrow-right'

commit b3d6af4454a95980a246abaa32d9e32fed39f040
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Mon Feb 19 13:30:26 2024 +0100

    Allow users to set document name and use it for exporting / saving (#2685)
    
    Adds the ability to change document names in the top center part of the
    UI. This mostly brings back the functionality we already had in the
    past.
    
    This is basically a port of what @SomeHats did a while back. I changed
    the dropdown options and removed some of the things (we are not dealing
    with network requests directly so some of that logic did not apply any
    longer). We did have autosave back then, not sure if we want to bring
    that back?
    
    Changes the `exportAs` api, thus braking.
    
    ### Change Type
    
    - [ ] `patch` — Bug fix
    - [ ] `minor` — New feature
    - [x] `major` — Breaking change
    - [ ] `dependencies` — Changes to package dependencies[^1]
    - [ ] `documentation` — Changes to the documentation only[^2]
    - [ ] `tests` — Changes to any test code only[^2]
    - [ ] `internal` — Any other changes that don't affect the published
    package[^2]
    - [ ] I don't know
    
    [^1]: publishes a `patch` release, for devDependencies use `internal`
    [^2]: will not publish a new version
    
    ### Test Plan
    
    1. Top center should now show a new UI element. It has a dropdown with a
    few actions.
    2. Double clicking the name should also start editing it.
    3. The name should also be respected when exporting things. Not if you
    select some shapes or a frame. In that case we still use the old names.
    But if you don't have anything selected and then export / save a project
    it should have the document name.
    
    - [ ] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Allow users to name their documents.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 75f77b276..e16fa21b4 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -59,6 +59,7 @@ export type TLUiTranslationKey =
 	| 'action.print'
 	| 'action.redo'
 	| 'action.remove-frame'
+	| 'action.rename'
 	| 'action.rotate-ccw'
 	| 'action.rotate-cw'
 	| 'action.save-copy'
@@ -117,6 +118,7 @@ export type TLUiTranslationKey =
 	| 'color-style.violet'
 	| 'color-style.yellow'
 	| 'fill-style.none'
+	| 'document.default-name'
 	| 'fill-style.semi'
 	| 'fill-style.solid'
 	| 'fill-style.pattern'

commit fb852459db10382bf3a67b624d542bf827f57d20
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Mon Feb 26 15:01:56 2024 +0000

    menu: rework File menu / ensure Export menu is present (#2783)
    
    <img width="428" alt="Screenshot 2024-02-16 at 16 46 28"
    src="https://github.com/tldraw/tldraw/assets/469604/334cd0db-d9d5-4993-8012-c6985173edfb">
    
    
    - re-orders to be the normative New / Open / Save order — we shouldn't
    be messing with this conventional ordering
    - removes the "Don't ask again" from New/Open dialogs because they're
    non-undoable and not what _anybody_ should ever select. we shouldn't
    offer users a loaded footgun! :P
    - makes File menu be part of the default menu — it's presence is
    glaringly missing for regular development
    - along with that, make the pieces of that menu available as lego pieces
    to use - it can't just be `DefaultMainMenuContent`, all or nothing,
    forcing downstream users to import everything from scratch
    - finally, adds the Export menu as initially intended by this PR!
    
    @steveruizok let's discuss if you have some notes on this and we can
    talk about the shape of things here.
    
    ### Change Type
    
    - [x] `patch` — Bug fix
    
    ### Release Notes
    
    - Composable UI: makes File items be more granularly accessible / usable
    - Menu: show Export under the File menu.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index e16fa21b4..9eafa0a00 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -219,6 +219,7 @@ export type TLUiTranslationKey =
 	| 'menu.title'
 	| 'menu.copy-as'
 	| 'menu.edit'
+	| 'menu.object'
 	| 'menu.export-as'
 	| 'menu.file'
 	| 'menu.language'

commit 6d417577beef544d61bf0de990a318e9e4a3ef21
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Feb 26 18:30:55 2024 +0000

    Prevent iframe embedding for dotcom (except on tldraw.com) (#2947)
    
    This PR fixes a check on whether the dot com multiplayer editor has been
    loaded in an iframe.
    
    It tries to keep it working on tldraw.com itself.
    
    ### Change Type
    
    - [x] `patch` — Bug fix
    
    ### Test Plan
    
    1. Load me in an iframe

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 9eafa0a00..9d67ac915 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -1,5 +1,5 @@
 // This file is automatically generated by scripts/refresh-assets.ts.
-// Do not edit manually.
+// Do not edit manually. Or do, I'm a comment, not a cop.
 
 /** @public */
 export type TLUiTranslationKey =

commit 2a8ae6188e5013ef9192a068a984f0fdfcce6a69
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Tue Feb 27 12:48:20 2024 +0000

    menu: export followup with different semantics for file menu (#2968)
    
    Renamed Object → Shape
    Different semantics for Export under file menu. Thanks @TodePond !
    
    ### Change Type
    
    - [x] `patch` — Bug fix

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 9d67ac915..ebce56aaf 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -40,6 +40,12 @@ export type TLUiTranslationKey =
 	| 'action.export-as-png'
 	| 'action.export-as-svg.short'
 	| 'action.export-as-svg'
+	| 'action.export-all-as-json.short'
+	| 'action.export-all-as-json'
+	| 'action.export-all-as-png.short'
+	| 'action.export-all-as-png'
+	| 'action.export-all-as-svg.short'
+	| 'action.export-all-as-svg'
 	| 'action.fit-frame-to-content'
 	| 'action.flip-horizontal'
 	| 'action.flip-vertical'
@@ -219,7 +225,7 @@ export type TLUiTranslationKey =
 	| 'menu.title'
 	| 'menu.copy-as'
 	| 'menu.edit'
-	| 'menu.object'
+	| 'menu.shape'
 	| 'menu.export-as'
 	| 'menu.file'
 	| 'menu.language'
@@ -228,6 +234,7 @@ export type TLUiTranslationKey =
 	| 'context-menu.arrange'
 	| 'context-menu.copy-as'
 	| 'context-menu.export-as'
+	| 'context-menu.export-all-as'
 	| 'context-menu.move-to-page'
 	| 'context-menu.reorder'
 	| 'page-menu.title'

commit 4639436aad2bcdfadd7998f1b9d805740762b6ca
Author: David Sheldrick <d.j.sheldrick@gmail.com>
Date:   Tue Feb 27 14:14:42 2024 +0000

    Show toast on upload error (#2959)
    
    A little toast for when image uploads fail. Solves #2944
    
    ![Kapture 2024-02-27 at 09 27
    12](https://github.com/tldraw/tldraw/assets/1242537/9e285622-8015-41fa-bc3d-92dccfaa7ba9)
    
    ### Change Type
    
    - [x] `patch` — Bug fix
    
    
    ### Release Notes
    
    - Adds a quick toast to show when image uploads fail.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index ebce56aaf..d05ddb090 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -111,6 +111,8 @@ export type TLUiTranslationKey =
 	| 'action.zoom-to-100'
 	| 'action.zoom-to-fit'
 	| 'action.zoom-to-selection'
+	| 'assets.files.upload-failed'
+	| 'assets.url.failed'
 	| 'color-style.black'
 	| 'color-style.blue'
 	| 'color-style.green'

commit 4f07e696e8aef003ada35551dcd00c2fc8b4f8dc
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Thu Feb 29 11:45:02 2024 +0000

    [feature] wrap mode (#2938)
    
    By default, tldraw's brushing mode will select when the box intersects
    an shape's geometry. A user can hold Command / Ctrl to require that the
    selection box fully contain a shape's bounds instead.
    
    Some people really prefer the opposite. Three years! Three years I've
    been saying "no no no".
    
    This PR adds a user preference to flip the logic. When `isWrapMode` is
    true, selection requires that the box completely contain a shape before
    it's added to the list of selecting shapes; and ctrl flips back to
    intersection instead.
    
    ### Change Type
    
    - [x] `minor` — New feature
    
    ### Test Plan
    
    1. Turn on wrap mode in the user preferences menu.
    2. Select stuff.
    3. Use the ctrl key to except the behavior back to intersection.
    
    - [x] Unit Tests
    
    ### Release Notes
    
    - Added `isWrapMode` to user preferences.
    - Added Wrap Mode toggle to user preferences menu.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index d05ddb090..7f5dedcc5 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -86,6 +86,8 @@ export type TLUiTranslationKey =
 	| 'action.toggle-auto-size'
 	| 'action.toggle-dark-mode.menu'
 	| 'action.toggle-dark-mode'
+	| 'action.toggle-wrap-mode.menu'
+	| 'action.toggle-wrap-mode'
 	| 'action.toggle-reduce-motion.menu'
 	| 'action.toggle-reduce-motion'
 	| 'action.toggle-edge-scrolling.menu'

commit 60cc0dcce34357f9a38256a933f7e2b47a801f5d
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Mar 11 18:31:28 2024 +0000

    Menu updates / fix flip / add export / remove Shape menu (#3115)
    
    This PR:
    - adds the export all menu items to the main menu
    - removes the export all menu items from the dotcom menus
    - removes the shape menu and reverts several changes from
    https://github.com/tldraw/tldraw/pull/2782. This was not properly
    reviewed (I thought it was a PR about hiding / showing menu items).
    - fixes a bug with exporting (exporting JSON was not working when the
    user had no selected shapes)
    - fixes a bug that would prevent "flip shapes" from appearing in the
    menu
    - prevents export / copy actions from running if there are no shapes on
    the page
    - allows export / copy actions to default to all shapes on the page if
    no shapes are selected
    
    These changes have not been released in the dotcom yet. There's will be
    some thrash in the APIs.
    
    # Menu philosophy
    
    In the menu, the **edit** submenu relates to undo/redo, plus the user's
    current selection.
    
    Menu items that relate to specific to certain shapes are hidden when not
    available.
    
    Menu items that relate to all shapes are disabled when not available.
    
    <img width="640" alt="image"
    src="https://github.com/tldraw/tldraw/assets/23072548/e467e6bb-d958-4a9a-ac19-1dada52dcfa6">
    
    ### Change Type
    
    - [x] `major` — Bug fix
    
    ### Test
    
    - Select no shapes (arrange / flip should not be visible)
    - Select one geo shape (arrange / flip should not be visible)
    - Select two geo shapes (arrange / flip should be visible)
    - Select one draw shape (arrange / flip should not be visible)
    
    ### Release Notes
    
    - Revert some changes in the menu.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 7f5dedcc5..6002246bd 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -229,7 +229,6 @@ export type TLUiTranslationKey =
 	| 'menu.title'
 	| 'menu.copy-as'
 	| 'menu.edit'
-	| 'menu.shape'
 	| 'menu.export-as'
 	| 'menu.file'
 	| 'menu.language'

commit 8db84b33b2f32f82fb042aaad72e7ab5db7fc5c1
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Apr 1 19:48:56 2024 +0100

    Add white (#3321)
    
    This PR adds white. It's available with Alt+T.
    ![Kapture 2024-04-01 at 18 32
    22](https://github.com/tldraw/tldraw/assets/23072548/932c9621-ee09-403f-aacc-0226e7b03967)
    
    
    
    ### Change Type
    
    - [x] `sdk` — Changes the tldraw SDK
    - [x] `feature` — New feature
    
    ### Release Notes
    
    - Adds secret white color.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 6002246bd..012fac738 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -115,6 +115,7 @@ export type TLUiTranslationKey =
 	| 'action.zoom-to-selection'
 	| 'assets.files.upload-failed'
 	| 'assets.url.failed'
+	| 'color-style.white'
 	| 'color-style.black'
 	| 'color-style.blue'
 	| 'color-style.green'

commit 15dd56a75ec222165034fc3020015f22838c20ba
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Thu Apr 25 16:10:40 2024 +0200

    Readonly / room creation omnibus (#3192)
    
    Reworks how the readonly urls work. Till now we just used a simple
    function that would scramble the slugs. Now we use a proper key value
    mapping between regular and readonly slugs:
    
    - We use two KV stores. One is for going from a slug to a readonly slug
    and the other one for going the other way around. They are populated at
    the same time.
    - We separate preview KV stores (dev, preview, staging) from production
    one. I've already created these on Cloudflare. [My understanding is
    ](https://developers.cloudflare.com/kv/reference/data-security/#encryption-at-rest)that
    ids [can be
    public](https://community.cloudflare.com/t/is-it-safe-to-keep-kv-ids-in-a-public-git-repo/517387/4)
    since we can only access KV from our worker. Happy to move them to env
    variables though.
    
    - [x] Disable creating new rooms when tldraw is embedded inside iframes
    on other websites (we check the referrer and if it's not the same as the
    iframe's origin we don't allow it)
    - [x] Fork a project when inside an iframe now opens the forked project
    on tldraw.com and not inside iframe.
    - [x] We allow embeding of iframes, but we now track the where they are
    used via the referrer. We send this to Vercel analytics.
    - [x] Improved UX of the share menu to make it less confusing. Toggle is
    gone.
    - [x]  `/new` and `/r` routes not redirect to `/`.
    - [x] This introduces a new `/ro` route for readonly rooms. Legacy rooms
    still live on `/v`.
    - [x] Brought back `dotcom-shared` project to share code between BE and
    FE. Mostly types.
    - [x] Prevent creating of rooms by entering `/r/non-existing-slug`.
    - [x] Handle getting a readonly slug for old rooms. Added a comment
    about it
    [here](https://github.com/tldraw/tldraw/pull/3192/files#diff-c0954b3dc71bb7097c39656441175f3238ed60cf5cee64077c06e21da82182cbR17-R18).
    - [x] We no longer expose editor on the window object for readonly
    rooms. Prevents the users disabling readonly rooms manually.
    
    ### Change Type
    
    <!-- ❗ Please select a 'Scope' label ❗️ -->
    
    - [ ] `sdk` — Changes the tldraw SDK
    - [x] `dotcom` — Changes the tldraw.com web app
    - [ ] `docs` — Changes to the documentation, examples, or templates.
    - [ ] `vs code` — Changes to the vscode plugin
    - [ ] `internal` — Does not affect user-facing stuff
    
    <!-- ❗ Please select a 'Type' label ❗️ -->
    
    - [ ] `bugfix` — Bug fix
    - [ ] `feature` — New feature
    - [x] `improvement` — Improving existing features
    - [ ] `chore` — Updating dependencies, other boring stuff
    - [ ] `galaxy brain` — Architectural changes
    - [ ] `tests` — Changes to any test code
    - [ ] `tools` — Changes to infrastructure, CI, internal scripts,
    debugging tools, etc.
    - [ ] `dunno` — I don't know
    
    
    ### Test Plan
    1. Make sure old readonly rooms still work.
    2. Creating a readonly link from an existing room should still use `/v`
    path.
    3. Newly created rooms should use `/ro` path for readonly rooms. Make
    sure these work as well.
    4. `/r` room was disabled and redirects to `/`
    5. `/new` should still work when not inside iframes.
    
    - [x] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    
    1. This adds new functionality for readonly rooms:
    - We have a new route `/ro` for newly created readonly rooms. These
    rooms no longer use the scrambling logic to create readonly slugs.
    Instead we now use KV storage from cloudflare to track the mapping for
    slugs -> readonly slug and readonly slug -> slug.
    - The old route `/v` is preserved, so that the old room still work as
    they did before.
    - For old rooms we will keep on generating the old readonly slugs, but
    for new rooms we'll start using the new logic.
    2. We no longer prevent embedding of tldraw inside iframes.
    3. We do prevent generating new rooms from inside the iframes though.
    `/r`, `/new`, `/r/non-existing-id` should not allow creation of new
    rooms inside iframes. Only `/new` still works when not inside iframes.
    4. Forking a project from inside an iframe now opens it on tldraw.com
    5. Slight copy change on the sharing menu. We no longer have a toggle
    between readonly and non-readonly links.
    6. `editor` and `app` are no longer exposed on the window object for
    readonly rooms. Prevents users from using the `updateInstanceState` to
    escape readonly rooms.
    
    ---------
    
    Co-authored-by: Mime Čuvalo <mimecuvalo@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 012fac738..f6cdc6e7b 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -52,6 +52,7 @@ export type TLUiTranslationKey =
 	| 'action.flip-horizontal.short'
 	| 'action.flip-vertical.short'
 	| 'action.fork-project'
+	| 'action.fork-project-on-tldraw'
 	| 'action.group'
 	| 'action.insert-embed'
 	| 'action.insert-media'

commit e29137f467937206d3df9463310ce65086c4c180
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Mon Jun 3 09:42:08 2024 +0100

    share: make share/fork/copy actions clearer (#3846)
    
    Right now when you hit Share/Fork on production it can take a good 5
    seconds for something to happen.
    In the meantime, it can feel like nothing happened when you clicked the
    button. Maybe you click it again to see if that'll fix it, which doesn't
    do anything. Same thing for the Copy action, sometimes we don't have an
    icon to subtly show that it's been copied.
    
    This adds some toasts and disables the Share menu while a project is
    being created.
    
    Also, has two drive-by fixes:
    - the getShareUrl logic is old and needed to be superseded by the new
    stuff
    - the icon fix for clipboard-copied.svg from the readonly omnibus PR
    (https://github.com/tldraw/tldraw/pull/3192) got overridden in a
    different PR (https://github.com/tldraw/tldraw/pull/3627) - this
    restores the fix
    
    <img width="304" alt="Screenshot 2024-05-30 at 11 38 39"
    src="https://github.com/tldraw/tldraw/assets/469604/f9a3b7c7-f9ea-41f0-ad00-7fc5d71da93f">
    <img width="257" alt="Screenshot 2024-05-30 at 11 38 14"
    src="https://github.com/tldraw/tldraw/assets/469604/c0a2d762-64c3-44da-b61e-c237133dd8cd">
    
    
    ### Change Type
    
    <!-- ❗ Please select a 'Scope' label ❗️ -->
    
    - [x] `sdk` — Changes the tldraw SDK
    - [ ] `dotcom` — Changes the tldraw.com web app
    - [ ] `docs` — Changes to the documentation, examples, or templates.
    - [ ] `vs code` — Changes to the vscode plugin
    - [ ] `internal` — Does not affect user-facing stuff
    
    <!-- ❗ Please select a 'Type' label ❗️ -->
    
    - [ ] `bugfix` — Bug fix
    - [ ] `feature` — New feature
    - [x] `improvement` — Improving existing features
    - [ ] `chore` — Updating dependencies, other boring stuff
    - [ ] `galaxy brain` — Architectural changes
    - [ ] `tests` — Changes to any test code
    - [ ] `tools` — Changes to infrastructure, CI, internal scripts,
    debugging tools, etc.
    - [ ] `dunno` — I don't know
    
    ### Release Notes
    
    - Share menu: make sharing/fork/copy actions clearer

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index f6cdc6e7b..6bcb41a72 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -270,6 +270,8 @@ export type TLUiTranslationKey =
 	| 'share-menu.copy-readonly-link-note'
 	| 'share-menu.project-too-large'
 	| 'share-menu.upload-failed'
+	| 'share-menu.creating-project'
+	| 'share-menu.copied'
 	| 'status.offline'
 	| 'status.online'
 	| 'people-menu.title'

commit 5bf05bbb3c8ba00c0c01009825344fc81e20a9da
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Sun Jun 16 14:40:50 2024 +0300

    Flatten shapes to image(s) (#3933)
    
    This PR adds some functionality for turning shapes into images.
    
    ![Kapture 2024-06-13 at 12 51
    00](https://github.com/tldraw/tldraw/assets/23072548/78525e29-61b5-418f-889d-2f061f26f34d)
    
    It adds:
    - the `flattenShapesToImages`
    - the `useFlatten` hook
    - a `flatten-shapes-to-images` action (shift + f)
    - adds `flattenImageBoundsExpand` option
    - adds `flattenImageBoundsPadding` option
    
    ## Flatten shapes to images
    
    The `flattenShapesToImages` helper method will 1) create an image for
    the given shape ids, 2) add it to the canvas in the same location / size
    as the source shapes, and then 3) delete the original shapes. The new
    image will be placed correctly in the z index and in the correct
    rotation of the root-most ancestor of the given shape ids.
    
    
    ![image](https://github.com/tldraw/tldraw/assets/23072548/fe888980-05a5-4369-863f-90c142f9f8b9)
    
    It has an argument, `flattenImageBoundsExpand`, which if provided will
    chunk the given shapes into images based on their overlapping (expanded)
    bounding boxes.
    
    
    ![image](https://github.com/tldraw/tldraw/assets/23072548/c4799309-244d-4a2b-ac59-9c2fd100319c)
    
    By default, the flatten action uses the editor's
    `options.flattenImageBoundsExpand`. The `flattenImageBoundsPadding`
    option is used as a value for how much larger the image should be than
    the source image bounds (to account for large strokes, for example).
    
    ### Change Type
    
    - [x] `sdk` — Changes the tldraw SDK
    - [x] `feature` — New feature
    
    ### Test Plan
    
    1. Select shapes
    2. Select context menu > edit > flatten
    
    - [ ] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Add Flatten, a new menu item to flatten shapes into images

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 6bcb41a72..e9cf03848 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -100,6 +100,7 @@ export type TLUiTranslationKey =
 	| 'action.toggle-grid.menu'
 	| 'action.toggle-grid'
 	| 'action.toggle-lock'
+	| 'action.flatten-to-image'
 	| 'action.toggle-snap-mode.menu'
 	| 'action.toggle-snap-mode'
 	| 'action.toggle-tool-lock.menu'
@@ -236,6 +237,7 @@ export type TLUiTranslationKey =
 	| 'menu.language'
 	| 'menu.preferences'
 	| 'menu.view'
+	| 'context-menu.edit'
 	| 'context-menu.arrange'
 	| 'context-menu.copy-as'
 	| 'context-menu.export-as'

commit ac149c1014fb5f0539d7c55f0f10ce2a05a23f74
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Sun Jun 16 19:58:13 2024 +0300

    Dynamic size mode + fill fill (#3835)
    
    This PR adds a user preference for "dynamic size mode" where the scale
    of shapes (text size, stroke width) is relative to the current zoom
    level. This means that the stroke width in screen pixels (or text size
    in screen pixels) is identical regardless of zoom level.
    
    ![Kapture 2024-05-27 at 05 23
    21](https://github.com/tldraw/tldraw/assets/23072548/f247ecce-bfcd-4f85-b7a5-d7677b38e4d8)
    
    - [x] Draw shape
    - [x] Text shape
    - [x] Highlighter shape
    - [x] Geo shape
    - [x] Arrow shape
    - [x] Note shape
    - [x] Line shape
    
    Embed shape?
    
    ### Change Type
    
    - [x] `sdk` — Changes the tldraw SDK
    - [x] `feature` — New feature
    
    ### Test Plan
    
    1. Use the tools.
    2. Change zoom
    
    - [ ] Unit Tests
    
    ### Release Notes
    
    - Adds a dynamic size user preferences.
    - Removes double click to reset scale on text shapes.
    - Removes double click to reset autosize on text shapes.
    
    ---------
    
    Co-authored-by: Taha <98838967+Taha-Hassan-Git@users.noreply.github.com>
    Co-authored-by: huppy-bot[bot] <128400622+huppy-bot[bot]@users.noreply.github.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index e9cf03848..cbe7594d5 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -97,6 +97,8 @@ export type TLUiTranslationKey =
 	| 'action.toggle-debug-mode'
 	| 'action.toggle-focus-mode.menu'
 	| 'action.toggle-focus-mode'
+	| 'action.toggle-dynamic-size-mode.menu'
+	| 'action.toggle-dynamic-size-mode'
 	| 'action.toggle-grid.menu'
 	| 'action.toggle-grid'
 	| 'action.toggle-lock'

commit 12aea7ed68e9b349c4eee4b6f2779ec970c7c650
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Mon Jun 17 16:46:04 2024 +0200

    [Experiment] Allow users to use system's appearance (dark / light) mode (#3703)
    
    Allow the users to fully use the same colour scheme as their system.
    Allows the users to either: force dark colour scheme, force light colour
    scheme, or use the system one.
    
    It's reactive to the system changes.
    
    
    https://github.com/tldraw/tldraw/assets/2523721/6d4cef03-9ef0-4098-b299-6bf5d7513e98
    
    
    ### Change Type
    
    <!-- ❗ Please select a 'Scope' label ❗️ -->
    
    - [x] `sdk` — Changes the tldraw SDK
    - [ ] `dotcom` — Changes the tldraw.com web app
    - [ ] `docs` — Changes to the documentation, examples, or templates.
    - [ ] `vs code` — Changes to the vscode plugin
    - [ ] `internal` — Does not affect user-facing stuff
    
    <!-- ❗ Please select a 'Type' label ❗️ -->
    
    - [ ] `bugfix` — Bug fix
    - [ ] `feature` — New feature
    - [x] `improvement` — Improving existing features
    - [ ] `chore` — Updating dependencies, other boring stuff
    - [ ] `galaxy brain` — Architectural changes
    - [ ] `tests` — Changes to any test code
    - [ ] `tools` — Changes to infrastructure, CI, internal scripts,
    debugging tools, etc.
    - [ ] `dunno` — I don't know
    
    
    ### Test Plan
    
    1. Add a step-by-step description of how to test your PR here.
    2.
    
    - [ ] Unit Tests
    - [ ] End to end tests
    
    ### Release Notes
    
    - Add a brief release note for your PR here.
    
    ---------
    
    Co-authored-by: David Sheldrick <d.j.sheldrick@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index cbe7594d5..e7b7dc2dd 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -119,6 +119,9 @@ export type TLUiTranslationKey =
 	| 'action.zoom-to-selection'
 	| 'assets.files.upload-failed'
 	| 'assets.url.failed'
+	| 'color-scheme.dark'
+	| 'color-scheme.light'
+	| 'color-scheme.system'
 	| 'color-style.white'
 	| 'color-style.black'
 	| 'color-style.blue'
@@ -232,6 +235,7 @@ export type TLUiTranslationKey =
 	| 'tool.embed'
 	| 'tool.text'
 	| 'menu.title'
+	| 'menu.color-scheme'
 	| 'menu.copy-as'
 	| 'menu.edit'
 	| 'menu.export-as'

commit a307939822278f5fba144babf92d83e989bc5808
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Tue Jun 18 11:50:01 2024 +0100

    Add fill fill style. (#3966)
    
    This PR adds a sneaky action / kbd (Alt-F) for the fill fill style.
    Similar to the white action, this is not really documented and may be
    removed in the future. But it's cool!!
    
    ### Change Type
    
    - [x] `sdk` — Changes the tldraw SDK
    - [x] `feature` — New feature
    
    ### Test Plan
    
    1. Press Alt-F.
    
    ### Release Notes
    
    - Secretly adds a fill-fill style (Alt-F)

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index e7b7dc2dd..92e278bbc 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -140,6 +140,7 @@ export type TLUiTranslationKey =
 	| 'fill-style.semi'
 	| 'fill-style.solid'
 	| 'fill-style.pattern'
+	| 'fill-style.fill'
 	| 'dash-style.dashed'
 	| 'dash-style.dotted'
 	| 'dash-style.draw'

commit 6137d4e3752840334f93d34f58b7efa32dc1790a
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Jun 20 11:04:47 2024 +0100

    theme: rename color scheme to theme (#3991)
    
    cc @MitjaBezensek
    
    ### Change Type
    
    <!-- ❗ Please select a 'Scope' label ❗️ -->
    
    - [x] `sdk` — Changes the tldraw SDK
    - [ ] `dotcom` — Changes the tldraw.com web app
    - [ ] `docs` — Changes to the documentation, examples, or templates.
    - [ ] `vs code` — Changes to the vscode plugin
    - [ ] `internal` — Does not affect user-facing stuff
    
    <!-- ❗ Please select a 'Type' label ❗️ -->
    
    - [ ] `bugfix` — Bug fix
    - [ ] `feature` — New feature
    - [x] `improvement` — Improving existing features
    - [ ] `chore` — Updating dependencies, other boring stuff
    - [ ] `galaxy brain` — Architectural changes
    - [ ] `tests` — Changes to any test code
    - [ ] `tools` — Changes to infrastructure, CI, internal scripts,
    debugging tools, etc.
    - [ ] `dunno` — I don't know

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 92e278bbc..91545a237 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -119,9 +119,9 @@ export type TLUiTranslationKey =
 	| 'action.zoom-to-selection'
 	| 'assets.files.upload-failed'
 	| 'assets.url.failed'
-	| 'color-scheme.dark'
-	| 'color-scheme.light'
-	| 'color-scheme.system'
+	| 'theme.dark'
+	| 'theme.light'
+	| 'theme.system'
 	| 'color-style.white'
 	| 'color-style.black'
 	| 'color-style.blue'
@@ -236,7 +236,7 @@ export type TLUiTranslationKey =
 	| 'tool.embed'
 	| 'tool.text'
 	| 'menu.title'
-	| 'menu.color-scheme'
+	| 'menu.theme'
 	| 'menu.copy-as'
 	| 'menu.edit'
 	| 'menu.export-as'

commit a85c215ffc8a87439edd2c7db037944a3e8a2aba
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Tue Jul 9 11:09:34 2024 +0200

    Add "paste at cursor" option, which toggles how `cmd + v` and `cmd + shift + v` work (#4088)
    
    Add an option to make paste at cursor the default.
    
    Not sure if we also want to expose this on tldraw.com? For now I did,
    but happy to remove if we'd want to keep the preferences simple.
    
    We could also add this to the `TldrawOptions`, but it felt like some
    apps might actually allow this customization on a per user level.
    
    Solves https://github.com/tldraw/tldraw/issues/4066
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [x] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    1. Copy / pasting should still work as it works now: `⌘ + v` pastes on
    top of the shape, `⌘ + ⇧ + v` pastes at cursor.
    2. There's now a new option under Preferences to paste at cursor. This
    just swaps the logic between the two shortcuts: `⌘ + v` then pastes at
    cursor and `⌘ + ⇧ + v` pastes on top of the shape.
    
    ### Release notes
    
    - Allow users and sdk users to make pasting at the cursor a default
    instead of only being available with `⌘ + ⇧ + v`.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 91545a237..15b3108ef 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -87,6 +87,8 @@ export type TLUiTranslationKey =
 	| 'action.toggle-auto-size'
 	| 'action.toggle-dark-mode.menu'
 	| 'action.toggle-dark-mode'
+	| 'action.toggle-paste-at-cursor.menu'
+	| 'action.toggle-paste-at-cursor'
 	| 'action.toggle-wrap-mode.menu'
 	| 'action.toggle-wrap-mode'
 	| 'action.toggle-reduce-motion.menu'

commit ec0ec71c69188e51574f57b7023d1e563f0e3054
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Tue Jul 9 14:33:01 2024 +0200

    Add a toast for missing clipboard permissions. (#4117)
    
    Shows a toast notifying the user that pasting failed due to clipboard
    permissions. Resolves
    https://github.com/orgs/tldraw/projects/53?pane=issue&itemId=70294454
    
    
    ![image](https://github.com/tldraw/tldraw/assets/2523721/704aaca2-a087-4b5b-a0bc-dd710960a318)
    
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    1. Open a new private window.
    2. Copy some shapes and paste them. Make sure you don't allow the
    clipboard access.
    3. You should see the toast.
    
    ### Release notes
    
    - Show a toast when pasting failed due to missing clipboard permissions.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 15b3108ef..009fd4b4b 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -63,6 +63,8 @@ export type TLUiTranslationKey =
 	| 'action.open-file'
 	| 'action.pack'
 	| 'action.paste'
+	| 'action.paste-error-title'
+	| 'action.paste-error-description'
 	| 'action.print'
 	| 'action.redo'
 	| 'action.remove-frame'

commit adbb0e9b3bf928eb321757740be31eceff90e052
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Tue Jul 9 15:05:31 2024 +0200

    Add a toast for file upload failures. (#4114)
    
    Adds toasts for cases when the file type is not allowed or the file is
    too big.
    
    Resolves
    https://github.com/orgs/tldraw/projects/53?pane=issue&itemId=70298205
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    1. Upload a file that is either too big (over 10mb) or of incorrect file
    type (pdf, docx,...).
    2. You should see a toast explaining what went wrong.
    
    ### Release notes
    
    - Show a toast when uploading an unsupported file type or a file that is
    too large (more than 10mb).

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 009fd4b4b..d83107ea8 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -121,6 +121,8 @@ export type TLUiTranslationKey =
 	| 'action.zoom-to-100'
 	| 'action.zoom-to-fit'
 	| 'action.zoom-to-selection'
+	| 'assets.files.size-too-big'
+	| 'assets.files.type-not-allowed'
 	| 'assets.files.upload-failed'
 	| 'assets.url.failed'
 	| 'theme.dark'

commit 69a1c17b463991882c49d1496d1efedcfa0a730f
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Jul 11 12:49:18 2024 +0100

    sdk: wires up tldraw to have licensing mechanisms (#4021)
    
    For non-commercial usage of tldraw, this adds a watermark in the corner,
    both for branding purposes and as an incentive for our enterprise
    customers to purchase a license.
    
    For commercial usage of tldraw, you add a license to the `<Tldraw
    licenseKey={YOUR_LICENSE_KEY} />` component so that the watermark
    doesn't show.
    
    The license is a signed key that has various bits of information in it,
    such as:
    - license type
    - hosts that the license is valid for
    - whether it's an internal-only license
    - expiry date
    
    We check the license on load and show a watermark (or throw an error if
    internal-only) if the license is not valid in a production environment.
    
    This is a @MitjaBezensek, @Taha-Hassan-Git, @mimecuvalo joint
    production! 🤜 🤛
    
    ### Change Type
    
    <!-- ❗ Please select a 'Scope' label ❗️ -->
    
    - [x] `sdk` — Changes the tldraw SDK
    - [ ] `dotcom` — Changes the tldraw.com web app
    - [ ] `docs` — Changes to the documentation, examples, or templates.
    - [ ] `vs code` — Changes to the vscode plugin
    - [ ] `internal` — Does not affect user-facing stuff
    
    <!-- ❗ Please select a 'Type' label ❗️ -->
    
    - [ ] `bugfix` — Bug fix
    - [x] `feature` — New feature
    - [ ] `improvement` — Improving existing features
    - [ ] `chore` — Updating dependencies, other boring stuff
    - [ ] `galaxy brain` — Architectural changes
    - [ ] `tests` — Changes to any test code
    - [ ] `tools` — Changes to infrastructure, CI, internal scripts,
    debugging tools, etc.
    - [ ] `dunno` — I don't know
    
    
    ### Test Plan
    
    1. We will be dogfooding on staging.tldraw.com and tldraw.com itself
    before releasing this.
    
    ### Release Notes
    
    - SDK: wires up tldraw to have licensing mechanisms.
    
    ---------
    
    Co-authored-by: Mitja Bezenšek <mitja.bezensek@gmail.com>
    Co-authored-by: Taha <98838967+Taha-Hassan-Git@users.noreply.github.com>
    Co-authored-by: Steve Ruiz <steveruizok@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index d83107ea8..ba684df21 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -249,6 +249,7 @@ export type TLUiTranslationKey =
 	| 'menu.file'
 	| 'menu.language'
 	| 'menu.preferences'
+	| 'menu.help'
 	| 'menu.view'
 	| 'context-menu.edit'
 	| 'context-menu.arrange'
@@ -299,6 +300,7 @@ export type TLUiTranslationKey =
 	| 'people-menu.invite'
 	| 'help-menu.title'
 	| 'help-menu.about'
+	| 'help-menu.docs'
 	| 'help-menu.discord'
 	| 'help-menu.github'
 	| 'help-menu.keyboard-shortcuts'

commit 87b231abcfe247c95615d4b979f6e523a6a25dc2
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Wed Jul 24 15:45:13 2024 +0100

    keyboard: list out , as keyboard shortcut (#4270)
    
    Fixes https://github.com/tldraw/tldraw/issues/3531
    
    <img width="232" alt="Screenshot 2024-07-24 at 11 44 53"
    src="https://github.com/user-attachments/assets/1a8a03b8-8eec-494c-8ae7-04c6f900ffc3">
    
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ---------
    
    Co-authored-by: Taha <98838967+Taha-Hassan-Git@users.noreply.github.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index ba684df21..15e915e2b 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -241,6 +241,7 @@ export type TLUiTranslationKey =
 	| 'tool.laser'
 	| 'tool.embed'
 	| 'tool.text'
+	| 'tool.pointer-down'
 	| 'menu.title'
 	| 'menu.theme'
 	| 'menu.copy-as'

commit 0c77cf94a99d3c187e9567bb39e746a8b3ff1af0
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Jul 29 14:08:58 2024 +0100

    Add terms of use / privacy policy (#4308)
    
    This PR adds a terms of use and privacy policy page to tldraw.dev
    (weirdly, for tldraw.com). It also updates the readme for the dotcom
    project.
    
    Note that the because the documents are stored on GitHub, links to the
    documents will be broken until this PR lands.
    
    ### Change type
    
    - [x] `other`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 15e915e2b..0e6a9d7b3 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -306,6 +306,8 @@ export type TLUiTranslationKey =
 	| 'help-menu.github'
 	| 'help-menu.keyboard-shortcuts'
 	| 'help-menu.twitter'
+	| 'help-menu.terms'
+	| 'help-menu.privacy'
 	| 'actions-menu.title'
 	| 'edit-link-dialog.title'
 	| 'edit-link-dialog.invalid-url'

commit db3b10cd915a84a5d7ad3dca90f10f90a07034ca
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Thu Aug 22 16:39:20 2024 +0200

    Improve event tracking (#4409)
    
    We didn't track some of the UI events.
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - Improves event tracking by adding some missing event tracking.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 0e6a9d7b3..818a31437 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -289,6 +289,7 @@ export type TLUiTranslationKey =
 	| 'share-menu.upload-failed'
 	| 'share-menu.creating-project'
 	| 'share-menu.copied'
+	| 'document-name-menu.copy-link'
 	| 'status.offline'
 	| 'status.online'
 	| 'people-menu.title'

commit ab9833c09df9c5d51ffdb3537866f352e9d42444
Author: alex <alex@dytry.ch>
Date:   Wed Sep 18 11:17:57 2024 +0100

    Clean up `apps` directory (#4548)
    
    Post 3.0 spring cleaning?
    
    There a new `internal` folder with things that people who don't work at
    tldraw should never need to look at. The apps folder contains just our
    actual apps, with the various dotcom services under `apps/dotcom`.
    
    vercel deploy will fail on this until it's ready to land, at which point
    i'll update the vercel config to point at the new script locations
    
    ### Change type
    
    - [x] `other`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 818a31437..3f9635e38 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -1,4 +1,4 @@
-// This file is automatically generated by scripts/refresh-assets.ts.
+// This file is automatically generated by internal/scripts/refresh-assets.ts.
 // Do not edit manually. Or do, I'm a comment, not a cop.
 
 /** @public */

commit 72320c1f78981702210162c7b45ea64295e5ae0a
Author: Mitja Bezenšek <mitja.bezensek@gmail.com>
Date:   Tue Oct 22 16:03:21 2024 +0200

    Improve tooltips in the style panel (#4750)
    
    Two changes:
    
    1. Help users distinguish between the text alignment and text label
    alignment.
    
    Before:
    ![CleanShot 2024-10-22 at 12 48
    54](https://github.com/user-attachments/assets/6e57db2a-cd0e-45fb-915f-7ed61141a6ab)
    
    After:
    ![CleanShot 2024-10-22 at 12 49
    15](https://github.com/user-attachments/assets/52229cae-9b1f-4f21-b944-6c24b13df108)
    
    2. Adds the style name in front of some of the style panels
    
    Before:
    
    ![image](https://github.com/user-attachments/assets/a0188205-079d-483d-955d-da145fc3fb43)
    
    After:
    ![CleanShot 2024-10-22 at 12 50
    32](https://github.com/user-attachments/assets/1b2a5011-09b7-4b4e-b52d-2d63d50017c6)
    
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    1. Create a shape...
    4.
    
    - [ ] Unit tests
    - [ ] End to end tests
    
    ### Release notes
    
    - Fixed a bug with…
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - Improve tooltips in the style panel.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 3f9635e38..2298a6e64 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -342,6 +342,7 @@ export type TLUiTranslationKey =
 	| 'home-project-dialog.ok'
 	| 'style-panel.title'
 	| 'style-panel.align'
+	| 'style-panel.label-align'
 	| 'style-panel.vertical-align'
 	| 'style-panel.position'
 	| 'style-panel.arrowheads'

commit 9a1912515a80896189d5354e141361706420e4e2
Author: Steve Ruiz <steveruizok@gmail.com>
Date:   Mon Dec 2 18:01:14 2024 +0000

    [botcom] Add import / save as tldr file. (#5049)
    
    This PR adds an `Import file...` item to the sidebar account menu and a
    `Save a copy...` item to the file menu in the editor.
    
    <img width="432" alt="image"
    src="https://github.com/user-attachments/assets/a8f3358a-eb4f-471e-ad31-baf2fa67fa10">
    
    <img width="642" alt="image"
    src="https://github.com/user-attachments/assets/cdf38d01-b2e3-4748-bcf2-a72cb0c87c7e">
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [x] `other`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 2298a6e64..f3b65a92f 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -300,6 +300,7 @@ export type TLUiTranslationKey =
 	| 'people-menu.leading'
 	| 'people-menu.user'
 	| 'people-menu.invite'
+	| 'help-menu.import-tldr-file'
 	| 'help-menu.title'
 	| 'help-menu.about'
 	| 'help-menu.docs'

commit c5f3975feaabc6c7db329fe1a5799a1431e7bf94
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Tue Jan 14 11:01:13 2025 +0000

    strings: rm some old ones, use nice apostrophes (#5213)
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [x] `other`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index f3b65a92f..71dc3ed5d 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -250,7 +250,6 @@ export type TLUiTranslationKey =
 	| 'menu.file'
 	| 'menu.language'
 	| 'menu.preferences'
-	| 'menu.help'
 	| 'menu.view'
 	| 'context-menu.edit'
 	| 'context-menu.arrange'
@@ -276,9 +275,7 @@ export type TLUiTranslationKey =
 	| 'share-menu.save-note'
 	| 'share-menu.fork-note'
 	| 'share-menu.share-project'
-	| 'share-menu.default-project-name'
 	| 'share-menu.copy-link'
-	| 'share-menu.readonly-link'
 	| 'share-menu.create-snapshot-link'
 	| 'share-menu.snapshot-link-note'
 	| 'share-menu.copy-readonly-link'
@@ -291,7 +288,6 @@ export type TLUiTranslationKey =
 	| 'share-menu.copied'
 	| 'document-name-menu.copy-link'
 	| 'status.offline'
-	| 'status.online'
 	| 'people-menu.title'
 	| 'people-menu.change-name'
 	| 'people-menu.change-color'
@@ -303,7 +299,6 @@ export type TLUiTranslationKey =
 	| 'help-menu.import-tldr-file'
 	| 'help-menu.title'
 	| 'help-menu.about'
-	| 'help-menu.docs'
 	| 'help-menu.discord'
 	| 'help-menu.github'
 	| 'help-menu.keyboard-shortcuts'
@@ -325,8 +320,6 @@ export type TLUiTranslationKey =
 	| 'embed-dialog.url'
 	| 'embed-dialog.instruction'
 	| 'embed-dialog.invalid-url'
-	| 'edit-pages-dialog.move-down'
-	| 'edit-pages-dialog.move-up'
 	| 'shortcuts-dialog.title'
 	| 'shortcuts-dialog.edit'
 	| 'shortcuts-dialog.file'
@@ -335,12 +328,6 @@ export type TLUiTranslationKey =
 	| 'shortcuts-dialog.transform'
 	| 'shortcuts-dialog.view'
 	| 'shortcuts-dialog.collaboration'
-	| 'home-project-dialog.title'
-	| 'home-project-dialog.description'
-	| 'rename-project-dialog.title'
-	| 'rename-project-dialog.cancel'
-	| 'rename-project-dialog.rename'
-	| 'home-project-dialog.ok'
 	| 'style-panel.title'
 	| 'style-panel.align'
 	| 'style-panel.label-align'
@@ -358,10 +345,7 @@ export type TLUiTranslationKey =
 	| 'style-panel.opacity'
 	| 'style-panel.size'
 	| 'style-panel.spline'
-	| 'tool-panel.drawing'
-	| 'tool-panel.shapes'
 	| 'tool-panel.more'
-	| 'debug-panel.more'
 	| 'navigation-zone.toggle-minimap'
 	| 'navigation-zone.zoom'
 	| 'focus-mode.toggle-focus-mode'

commit 9d961047c9d7f308c94ab6e30a3bef55499d1c9d
Author: Alexander Melnik <47505999+melnikkk@users.noreply.github.com>
Date:   Mon Jan 20 10:21:27 2025 +0100

    Added toast instead of throwing an error for the case when the amount… (#5201)
    
    This PR solves the issue #5188. Throwing an error for the case when a
    user is trying to upload more files than maxFilesAtOnce is replaced with
    toast.
    
    _(for testing purposes and screen recording, I reduced the max amount of
    files)_
    
    https://github.com/user-attachments/assets/b7468fd0-f14f-41c0-96d9-01f7326a0ecd
    
    P.S.: I'm not sure about the correction of the text, so feel free to
    notify me, and I'll change it :)
    
    ### Change type
    
    - [x] `bugfix`
    - [ ] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - added toast instead of throwing an error for the case when the amount
    of files is bigger than `maxFilesAtOnce`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 71dc3ed5d..490516278 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -124,6 +124,7 @@ export type TLUiTranslationKey =
 	| 'assets.files.size-too-big'
 	| 'assets.files.type-not-allowed'
 	| 'assets.files.upload-failed'
+	| 'assets.files.amount-too-many'
 	| 'assets.url.failed'
 	| 'theme.dark'
 	| 'theme.light'

commit 5ed55f12f0508edec34292d7c1bdd08b4e8c21a1
Author: alex <alex@dytry.ch>
Date:   Mon Jan 20 18:19:00 2025 +0000

    Exports DX pass (#5114)
    
    Over the last few weeks we've had a lot of requests on discord around
    asset resolution, exports, and the two together. Some of the APIs here
    have evolved and change independently of each other over time, so I
    wanted to take a pass at making them make sense with each other a bit
    more. There are a few things going on in this diff:
    
    1. **BREAKING** The export/copy-as JSON option has been removed. I think
    this was only ever there as a debug helper, and it's impossible to
    actually make use of the JSON once copied (it's not the same as .tldr
    json which confuses people).
    2. `exportToBlob` is deprecated in favour of a new `Editor.toImage`
    method. `exportToBlob` has been the canonical 'turn the canvas into an
    image' helper for a while, but it has quite a weird looking signature
    and isn't very discoverable.
    3. the `copyAs` and `exportAs` helpers have had a couple of args merged
    into the options bag for consistency.
    4. The `jpeg` format has been removed from `copyAs`. This is technically
    a breaking API change, but since it never actually worked anyway due to
    browser limitations i think its fine.
    5. SVG exports now resolve assets according to how they'll be used:
    - if it's for an SVG, we still use the existing
    `shouldResolveToOriginal` behaviour
    - if it's for a bitmap export, we request an image downscaled according
    to the size it will appear in that resulting bitmap.
    6. Better reference docs for several APIs around this stuff.
    7. **BREAKING** the `useImageOrVideoAsset` hook now requires passing in
    `width`, instead of reading `shape.props.w`. This is so it can be used
    with shapes other than our own. Whilst this is technically a breaking
    change, this limitation means its unlikely that it was used with many
    custom shapes in practice.
    8. The clamping that we used to apply in to `steppedScreenScale` in
    `resolveAssetUrl` has been moved to our own implementations of
    `TLAssetStore`. This is so implementors can make their own decisions
    about the range of scalings they might want to use.
    9. The `steppedScreenScale` limit changed from 1/8 to 1/32. This is
    because when testing with full res photos from a modern smartphone, we
    were still downloading a 1000+px image in order to render it at a few
    hundred px across (and also we don't pay anything for these right now).
    Happy to change now/in the future if this doesn't seem right though.
    
    ### Change type
    
    - [x] `api`
    
    ### Release notes
    
    #### Breaking changes / user facing changes
    - The copy/export as JSON option has been removed. Data copied/exported
    from here could not be used anyway. If you need this in your app, look
    into `Editor.getContentFromCurrentPage`.
    - `useImageOrVideoAssetUrl` now expects a `width` parameter representing
    the rendered width of the asset.
    - `Editor.getSvgElement` and `Editor.getSvgString` will now export all
    shapes on the current page instead of returning undefined when passed an
    empty array of shape ids.
    
    #### Product improvement
    - When exporting to an image, image assets are now downloaded at a
    resolution appropriate for how they will appear in the export.
    
    #### API changes
    - There's a new `Editor.toImage` method that makes creating an image
    from your canvas easier. (`exportToBlob` is deprecated in favour of it)
    - `SvgExportContext` now exposes the `scale` and `pixelRatio` options of
    the current export
    - `SvgExportContext` now has a `resolveAssetUrl` method to resolve an
    asset at a resolution appropriate for the export.
    - `copyAs(editor, ids, format, opts)` has been deprecated in favour of
    `copyAs(editor, ids, opts)`.
    - `exportAs(editor, ids, format, name, opts)` has been deprecated in
    favour of `exportAs(editor, ids, opts)`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 490516278..81ca9de9e 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -17,8 +17,6 @@ export type TLUiTranslationKey =
 	| 'action.back-to-content'
 	| 'action.bring-forward'
 	| 'action.bring-to-front'
-	| 'action.copy-as-json.short'
-	| 'action.copy-as-json'
 	| 'action.copy-as-png.short'
 	| 'action.copy-as-png'
 	| 'action.copy-as-svg.short'
@@ -34,14 +32,10 @@ export type TLUiTranslationKey =
 	| 'action.duplicate'
 	| 'action.edit-link'
 	| 'action.exit-pen-mode'
-	| 'action.export-as-json.short'
-	| 'action.export-as-json'
 	| 'action.export-as-png.short'
 	| 'action.export-as-png'
 	| 'action.export-as-svg.short'
 	| 'action.export-as-svg'
-	| 'action.export-all-as-json.short'
-	| 'action.export-all-as-json'
 	| 'action.export-all-as-png.short'
 	| 'action.export-all-as-png'
 	| 'action.export-all-as-svg.short'

commit 3bf31007c5a7274f3f7926a84c96c89a4cc2c278
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Mon Mar 3 14:23:09 2025 +0000

    [feature] add rich text and contextual toolbar (#4895)
    
    We're looking to add rich text to the editor!
    
    We originally started with ProseMirror but it became quickly clear that
    since it's more down-to-the-metal we'd have to rebuild a bunch of
    functionality, effectively managing a rich text editor in addition to a
    2D canvas. Examples of this include behaviors around lists where people
    expect certain behaviors around combination of lists next to each other,
    tabbing, etc.
    On top of those product expectations, we'd need to provide a
    higher-level API that provided better DX around things like
    transactions, switching between lists↔headers, and more.
    
    Given those considerations, a very natural fit was to use TipTap. Much
    like tldraw, they provide a great experience around manipulating a rich
    text editor. And, we want to pass on those product/DX benefits
    downstream to our SDK users.
    
    Some high-level notes:
    - the data is stored as the TipTap stringified JSON, it's lightly
    validated at the moment, but not stringently.
    - there was originally going to be a short-circuit path for plaintext
    but it ended up being error-prone with richtext/plaintext living
    side-by-side. (this meant there were two separate fields)
    - We could still add a way to render faster — I just want to avoid it
    being two separate fields, too many footguns.
    - things like arrow labels are only plain text (debatable though).
    
    Other related efforts:
    - https://github.com/tldraw/tldraw/pull/3051
    - https://github.com/tldraw/tldraw/pull/2825
    
    Todo
    - [ ] figure out whether we should have a migration or not. This is what
    we discussed cc @ds300 and @SomeHats - and whether older clients would
    start messing up newer clients. The data becomes lossy if older clients
    overwrite with plaintext.
    
    <img width="427" alt="Screenshot 2024-12-09 at 14 43 51"
    src="https://github.com/user-attachments/assets/f9dddaee-bfd3-4746-8016-d4247e417e80">
    <img width="378" alt="Screenshot 2024-12-09 at 14 42 59"
    src="https://github.com/user-attachments/assets/95e016d3-ab4d-4d34-afd3-b3ef511d2d77">
    
    Current discussion list:
    - [x] positioning: discuss toolbar position (selection bounds vs cursor
    bounds, toolbar is going in center weirdly sometimes)
    - [x] artificial delay: latest updates make it feel slow/unresponsive?
    e.g. list toggle, changing selection
    - [x] keyboard selection: discuss toolbar logic around "mousing around"
    vs. being present when keyboard selecting (which is annoying)
    - [x] mobile: discuss concerns around mobile toolbar
    - [x] mobile, precision tap: discuss / rm tap into text (and sticky
    notes?) - disable precision editing on mobile
    - [x] discuss
    useContextualToolbar/useContextualToolbarPosition/ContextualToolbar/TldrawUiContextualToolbar
    example
    - [x] existing code: middle alignment for pasted text - keep?
    - [x] existing code: should text replace the shape content when pasted?
    keep?
    - [x] discuss animation, we had it, nixed it, it's back again; why the
    0.08s animation? imperceptible?
    - [x] hide during camera move?
    - [x] short form content - hard to make a different selection b/c
    toolbar is in the way of content
    - [x] check 'overflow: hidden' on tl-text-input (update: this is needed
    to avoid scrollbars)
    - [x] decide on toolbar set: italic, underline, strikethrough, highlight
    - [x] labelColor w/ highlighted text - steve has a commit here to tweak
    highlighting
    
    todos:
    - [x] font rebuild (bold, randomization tweaks) - david looking into
    this
    
    check bugs raised:
    - [x] can't do selection on list item
    - [x] mobile: b/c of the blur/Done logic, doesn't work if you dbl-click
    on geo shape (it's a plaintext problem too)
    - [x] mobile: No cursor when using the text tool - specifically for the
    Text tool — can't repro?
    - [x] VSCode html pasting, whitespace issue?
    - [x] Link toolbar make it extend to the widest size of the current tool
    set
    - [x] code has mutual exclusivity (this is a design choice by the Code
    plugin - we could fork)
    - [x] Text is copied to the clipboard with paragraphs rather than line
    breaks.
    - [x] multi-line plaintext for arrows busted
    
    nixed/outdated
    - [ ] ~link: on mobile should be in modal?~
    - [ ] ~link: back button?~
    - [ ] ~list button toggling? (can't repro)~
    - [ ] ~double/triple-clicking is now wonky with the new logic~
    - [ ] ~move blur() code into useEditableRichText - for Done on iOS~
    - [ ] ~toolbar when shape is rotated~
    - [ ] ~"The "isMousingDown" logic doesn't work, the events aren't
    reaching the window. Not sure how we get those from the editor element."
    (can't repro?)~
    - [ ] ~toolbar position bug when toggling code on and off (can't
    repro?)~
    - [ ] ~some issue around "Something's up with the initial size
    calculated from the text selection bounds."~
    - [ ] ~mobile: Context bar still visible out if user presses "Done" to
    end editing~
    - [ ] ~mobile: toolbar when switching between text fields~
    
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [x] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    1. TODO: write a bunch more tests
    
    - [x] Unit tests
    - [x] End to end tests
    
    ### Release notes
    
    - Rich text using ProseMirror as a first-class supported option in the
    Editor.
    
    ---------
    
    Co-authored-by: huppy-bot[bot] <128400622+huppy-bot[bot]@users.noreply.github.com>
    Co-authored-by: alex <alex@dytry.ch>
    Co-authored-by: David Sheldrick <d.j.sheldrick@gmail.com>
    Co-authored-by: Steve Ruiz <steveruizok@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 81ca9de9e..fdf804bdd 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -237,6 +237,16 @@ export type TLUiTranslationKey =
 	| 'tool.embed'
 	| 'tool.text'
 	| 'tool.pointer-down'
+	| 'tool.rich-text-bold'
+	| 'tool.rich-text-italic'
+	| 'tool.rich-text-code'
+	| 'tool.rich-text-highlight'
+	| 'tool.rich-text-strikethrough'
+	| 'tool.rich-text-link'
+	| 'tool.rich-text-link-visit'
+	| 'tool.rich-text-link-remove'
+	| 'tool.rich-text-header'
+	| 'tool.rich-text-bulletList'
 	| 'menu.title'
 	| 'menu.theme'
 	| 'menu.copy-as'

commit 425ed76c27af11a20fe742f5487957bc23e48763
Author: David Sheldrick <d.j.sheldrick@gmail.com>
Date:   Thu Mar 13 13:39:50 2025 +0000

    'New user' -> 'Guest user' (dotcom only) (#5614)
    
    1. This PR makes the previously-hard-coded 'New user' string subject to
    translations under the key `people-menu.anonymous-user`.
    2. For dotcom this PR overrides the `'New user'` string with `'Guest
    user'`
    
    ### Change type
    
    - [x] `improvement`
    
    ### Release notes
    
    - Add a translation key 'people-menu.anonymous-user' with the default
    string 'New User'
    - BREAKING CHANGE: `editor.user.getName()` no longer returns `'New
    user'` if the user has no name set. Instead it returns the empty string
    `''`.
    - BREAKING CHANGE: `defaultUserPreferences.name` is no longer the string
    `'New user'`, it is now the empty string `''`

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index fdf804bdd..93170957c 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -301,6 +301,7 @@ export type TLUiTranslationKey =
 	| 'people-menu.leading'
 	| 'people-menu.user'
 	| 'people-menu.invite'
+	| 'people-menu.anonymous-user'
 	| 'help-menu.import-tldr-file'
 	| 'help-menu.title'
 	| 'help-menu.about'

commit b82ff25ac5066fc09cfad025e7d6a3a4ff919a7a
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Mar 13 15:33:19 2025 +0000

    a11y: make toolbar button labels better; fix missing str (#5632)
    
    Our aria-labels had the wrong labels on them. Related issue #5215
    
    ### Change type
    
    - [x] `bugfix`
    - [ ] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - Improve labels for screen readers on toolbar buttons. Fix missing
    'heart' string.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 93170957c..51d1d3fb3 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -217,6 +217,7 @@ export type TLUiTranslationKey =
 	| 'tool.cloud'
 	| 'tool.diamond'
 	| 'tool.ellipse'
+	| 'tool.heart'
 	| 'tool.hexagon'
 	| 'tool.highlight'
 	| 'tool.line'

commit 629125a2e474effa3536411584aaac8f77657673
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Apr 3 16:07:49 2025 +0100

    a11y: navigable shapes (#5761)
    
    As part of a [larger push](https://github.com/tldraw/tldraw/issues/5215)
    to add accessibility to our SDK, a big piece of that work is being able
    to navigate through our shapes in some kind of predictable fashion. This
    builds upon @Taha-Hassan-Git 's great work and knowledge in this area,
    thanks man. :tip-o-the-hat:
    
    Things that were tackled in this PR:
    - navigating shapes using the Tab key, when in the Select tool.
    - navigating shapes using Cmd/Ctrl+Arrow keys, when in the Select tool.
    - only allowing certain shapes to be navigated to. We ignore
    draw/highlighter/arrow/group/line. Groups need exploration and will be
    tackled later.
    - panning the camera to the selected shape, but avoiding doing so in a
    jarring way. We don't center the shape to avoid too much whiplashy-ness.
    
    An initial foray into this was relaying purely on DOM but it had a bunch
    of browser quirks which forced making this purely a programmatic control
    on our end. Things like ensuring culled shapes are still accessible even
    though they're not rendered was one of the issues but also tab order
    became unpredictable at times which steered me away from that direction.
    
    We coud have considered using something like rbush for some spatial
    indexing of the shapes. For the intents and purposes of this PR, it
    seemed like overkill at the moment. But we might cross that bridge down
    the line, we'll see.
    
    The reading-direction heuristics are a combination of dividing the pages
    into rows and then looking at distance and angles to see what is the
    spatially "next" shape to be read. It takes _all_ of the shapes and
    sorts them into a logical order so that nothing is missed/skipped when
    tabbing around.
    The directional-arrow heuristics don't divide things into rows and don't
    create a sorted set of shapes. Instead, they decide based on the current
    shape and direction which is the next spatially to go to, depending on
    distance+angle.
    
    There's a decent amount of nuance in this kind of navigation but it's
    not all covered in this PR, for separate PRs, we'll look at:
    - [x] adding a "skipping to content" button
    - [ ] question whether maybe directional navigation visits ‘canTabTo’
    shapes, maybe yes?
    - [ ] tackling what Enter/Escape should do when on the canvas shapes
    - [ ] how to deal with hierarchy / parent-child / frame / group shapes
    - [ ] and more
    
    
    
    https://github.com/user-attachments/assets/49b6b34e-2553-4047-846f-5d3383e1e3c6
    
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [x] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    - [x] Unit tests
    - [x] End to end tests
    
    ### Release notes
    
    - a11y: navigable shapes using Tab and Cmd/Ctrl+Arrow

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 51d1d3fb3..5f11ae287 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -248,6 +248,7 @@ export type TLUiTranslationKey =
 	| 'tool.rich-text-link-remove'
 	| 'tool.rich-text-header'
 	| 'tool.rich-text-bulletList'
+	| 'a11y.skip-to-main-content'
 	| 'menu.title'
 	| 'menu.theme'
 	| 'menu.copy-as'

commit 4ecb34d3434dbd9ad3119d4dfc66b7af4e598faf
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Mon Apr 7 22:05:44 2025 +0100

    a11y: announce shapes as they're visited (#5773)
    
    Building off of https://github.com/tldraw/tldraw/pull/5634 and
    https://github.com/tldraw/tldraw/pull/5761 this is adding a11y live text
    to be read aloud when visiting a shape.
    
    We add an overridable method for shapes to customize this called
    `getAriaLiveText`.
    Furthermore, we lay the groundwork here to start letting media shapes
    have `altText`.
    Drive-by fix of `heart` being missing in `geo-styles` list.
    Also, drive-by fix of us calling our Image button "Asset" (what are we
    selling financial instruments here? :P) "Media" is a better word for
    this button, more human.
    
    Some of the i18n translation is funky. It's a shortcoming of our current
    system that we don't support interpolation :-/
    It sucks, and we'll revisit in the future.
    
    ### Change type
    
    - [ ] `bugfix`
    - [ ] `improvement`
    - [x] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - a11y: announce shapes as they're visited
    
    ---------
    
    Co-authored-by: alex <alex@dytry.ch>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 5f11ae287..8dd31e529 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -170,15 +170,15 @@ export type TLUiTranslationKey =
 	| 'geo-style.arrow-left'
 	| 'geo-style.arrow-right'
 	| 'geo-style.arrow-up'
+	| 'geo-style.cloud'
 	| 'geo-style.diamond'
 	| 'geo-style.ellipse'
+	| 'geo-style.heart'
 	| 'geo-style.hexagon'
 	| 'geo-style.octagon'
 	| 'geo-style.oval'
-	| 'geo-style.cloud'
 	| 'geo-style.pentagon'
 	| 'geo-style.rectangle'
-	| 'geo-style.rhombus-2'
 	| 'geo-style.rhombus'
 	| 'geo-style.star'
 	| 'geo-style.trapezoid'
@@ -231,7 +231,7 @@ export type TLUiTranslationKey =
 	| 'tool.triangle'
 	| 'tool.x-box'
 	| 'tool.check-box'
-	| 'tool.asset'
+	| 'tool.media'
 	| 'tool.frame'
 	| 'tool.note'
 	| 'tool.laser'
@@ -248,7 +248,12 @@ export type TLUiTranslationKey =
 	| 'tool.rich-text-link-remove'
 	| 'tool.rich-text-header'
 	| 'tool.rich-text-bulletList'
+	| 'tool.bookmark'
 	| 'a11y.skip-to-main-content'
+	| 'a11y.shape-index'
+	| 'a11y.shape-image'
+	| 'a11y.shape-video'
+	| 'a11y.multiple-shapes'
 	| 'menu.title'
 	| 'menu.theme'
 	| 'menu.copy-as'

commit 4207caaabd2ccb3388fde0a84eac131df6bfd8ab
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Tue Apr 8 17:04:37 2025 +0100

    a11y: more role updates, more semantic html5 tags (#5847)
    
    adds a bunch of `role`s and tweaks `aside` → `nav`
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [x] `other`
    
    ### Release notes
    
    - a11y: tweak `role`s for certain UI components

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 8dd31e529..9937340a1 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -263,6 +263,7 @@ export type TLUiTranslationKey =
 	| 'menu.language'
 	| 'menu.preferences'
 	| 'menu.view'
+	| 'context-menu.title'
 	| 'context-menu.edit'
 	| 'context-menu.arrange'
 	| 'context-menu.copy-as'

commit b3170bb2496200aac4959ed9d432159180cbf541
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Wed Apr 9 20:36:30 2025 +0100

    a11y: add keyboard shortcut items; fix up focus ring in dotcom menus (#5852)
    
    - fix up a11y focus ring for menus on dotcom (should have been `is`
    instead of `has`)
    - add Accessibility shortcuts to kbd shortcuts dialog
    - drive-by fix to add some `readonlyOk`s to some items that were missing
    it
    - also, drive-by fix to make sure we show focus ring when hitting
    up/down as well.
    
    ![Screenshot 2025-04-09 at 11 54
    23](https://github.com/user-attachments/assets/36c01a8a-3888-4120-85ad-0bc4be051753)
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - Add accessibility section to keyboard shortcuts dialog.

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 9937340a1..2124598bf 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -254,6 +254,12 @@ export type TLUiTranslationKey =
 	| 'a11y.shape-image'
 	| 'a11y.shape-video'
 	| 'a11y.multiple-shapes'
+	| 'a11y.select-shape'
+	| 'a11y.select-shape-direction'
+	| 'a11y.repeat-shape'
+	| 'a11y.move-shape'
+	| 'a11y.move-shape-faster'
+	| 'a11y.pan-camera'
 	| 'menu.title'
 	| 'menu.theme'
 	| 'menu.copy-as'
@@ -342,6 +348,7 @@ export type TLUiTranslationKey =
 	| 'shortcuts-dialog.transform'
 	| 'shortcuts-dialog.view'
 	| 'shortcuts-dialog.collaboration'
+	| 'shortcuts-dialog.a11y'
 	| 'style-panel.title'
 	| 'style-panel.align'
 	| 'style-panel.label-align'

commit 0a15911629d20d3021da1b2a593f6627dd9b3121
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Thu Apr 10 14:20:58 2025 +0100

    a11y: add resize kbd shortcut (#5826)
    
    Cmd+opt+shift +/- to resize a shape.
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Test plan
    
    - [ ] Unit tests
    - [x] End to end tests
    
    ### Release notes
    
    - a11y: add resize kbd shortcut

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 2124598bf..7f4b656b6 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -259,6 +259,8 @@ export type TLUiTranslationKey =
 	| 'a11y.repeat-shape'
 	| 'a11y.move-shape'
 	| 'a11y.move-shape-faster'
+	| 'a11y.enlarge-shape'
+	| 'a11y.shrink-shape'
 	| 'a11y.pan-camera'
 	| 'menu.title'
 	| 'menu.theme'

commit ae83a75c91b6d95f40045bbb5a12d96355d6b855
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Tue Apr 22 12:20:04 2025 +0100

    a11y: add rich text shortcuts to dialog; add shortcut for links (#5912)
    
    - adds rich text shortcuts to the dialog.
    - adds Cmd-Shift-K for creating a link while in rich text mode.
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - a11y: list out rich text shortcuts; add link shortcut
    
    ---------
    
    Co-authored-by: Mitja Bezenšek <mitja.bezensek@gmail.com>

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 7f4b656b6..1ddfaa80a 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -248,6 +248,7 @@ export type TLUiTranslationKey =
 	| 'tool.rich-text-link-remove'
 	| 'tool.rich-text-header'
 	| 'tool.rich-text-bulletList'
+	| 'tool.rich-text-orderedList'
 	| 'tool.bookmark'
 	| 'a11y.skip-to-main-content'
 	| 'a11y.shape-index'
@@ -351,6 +352,7 @@ export type TLUiTranslationKey =
 	| 'shortcuts-dialog.view'
 	| 'shortcuts-dialog.collaboration'
 	| 'shortcuts-dialog.a11y'
+	| 'shortcuts-dialog.text-formatting'
 	| 'style-panel.title'
 	| 'style-panel.align'
 	| 'style-panel.label-align'

commit 37377fbef46d63ba2e0677a2a2ed0086d3931d74
Author: Mime Čuvalo <mimecuvalo@gmail.com>
Date:   Fri Apr 25 17:40:34 2025 +0100

    a11y: make toolbars more compliant with keyboard navigation (#5872)
    
    The toolbars as they stand right now aren't set up right yet. To be
    compliant, they need to support left/right and setting tabIndex on items
    as you go.
    This requires quite a rework of the toolbars and their buttons.
    
    - [x] add aria-labels to toolbars
    - [x] zoom menu - dropdown
    - [x] zoom menu - keep focus when toggling
    - [x] main toolbar
    - [x] main overflow toolbar
    - [x] top-left toolbar
    - [x] style panel stuff
    - [x] toolbar extra menu
    - [x] loading screen
    - [x] contextual toolbar
    - [x] drive-by fix number shortcuts not working when toolbar selected
    - [x] going to need to override branding instead of tldraw
    - [x] add more aria-labels to a11y tree
    - [x] padding at top of style panel wtf
    - [x] slider left/right/top/bottom
    - [x] sub-menus
    - [x] check dotcom
    - [ ] escape should return back to the original spot
    
    ### Change type
    
    - [ ] `bugfix`
    - [x] `improvement`
    - [ ] `feature`
    - [ ] `api`
    - [ ] `other`
    
    ### Release notes
    
    - a11y: make toolbars more compliant with keyboard navigation

diff --git a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
index 1ddfaa80a..45cd1e780 100644
--- a/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
+++ b/packages/tldraw/src/lib/ui/hooks/useTranslation/TLUiTranslationKey.ts
@@ -248,8 +248,10 @@ export type TLUiTranslationKey =
 	| 'tool.rich-text-link-remove'
 	| 'tool.rich-text-header'
 	| 'tool.rich-text-bulletList'
+	| 'tool.rich-text-toolbar-title'
 	| 'tool.rich-text-orderedList'
 	| 'tool.bookmark'
+	| 'a11y.status'
 	| 'a11y.skip-to-main-content'
 	| 'a11y.shape-index'
 	| 'a11y.shape-image'
@@ -370,7 +372,9 @@ export type TLUiTranslationKey =
 	| 'style-panel.opacity'
 	| 'style-panel.size'
 	| 'style-panel.spline'
+	| 'tool-panel.title'
 	| 'tool-panel.more'
+	| 'navigation-zone.title'
 	| 'navigation-zone.toggle-minimap'
 	| 'navigation-zone.zoom'
 	| 'focus-mode.toggle-focus-mode'
@@ -408,3 +412,4 @@ export type TLUiTranslationKey =
 	| 'vscode.file-open.backup-failed'
 	| 'vscode.file-open.dont-show-again'
 	| 'cursor-chat.type-to-chat'
+	| 'app.loading'

